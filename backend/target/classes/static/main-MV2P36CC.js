import{$ as gr,$a as c,$b as xs,A as Hi,Aa as Qt,Ab as Ki,B as zi,Ba as Qo,Bb as os,C as jo,Ca as Xo,Cb as ri,D as rt,Da as Xt,Db as ss,E as pr,Ea as at,Eb as as,F as Bo,Fa as gt,Fb as ne,G as ot,Ga as I,Gb as ls,H as fr,Ha as Jt,Hb as fe,I as Rt,Ia as Jo,Ib as cs,J as pe,Ja as br,Jb as ds,K as Se,Ka as V,Kb as lt,L as ie,La as Ve,Lb as us,M as $,Ma as q,Mb as hs,N as Ho,Na as es,Nb as ps,O as et,Oa as De,Ob as Yi,P as E,Pa as Mt,Pb as fs,Q as Pe,Qa as ts,Qb as ms,R as zo,Ra as qi,Rb as gs,S as O,Sa as is,Sb as vs,T as j,Ta as Tt,Tb as _s,U as f,Ua as vt,Ub as Y,V as mr,Va as P,Vb as ys,W as $o,Wa as k,Wb as bs,X as st,Xa as _e,Xb as Cs,Y as ke,Ya as ye,Yb as ws,Z as S,Za as A,Zb as $e,_ as x,_a as l,_b as Ss,a as _,aa as vr,ab as B,b as H,ba as Oe,bb as ei,c as Qe,ca as oe,cb as ti,d as Po,da as $i,db as z,e as mt,ea as Go,eb as D,f as T,fa as G,fb as b,g as he,ga as ve,gb as ns,h as dr,ha as _r,hb as Cr,i as Xe,ia as Gi,ib as wr,j as ge,ja as Wo,jb as _t,k as M,ka as F,kb as Sr,l as ko,la as Kt,lb as Z,m as Ui,ma as se,mb as u,n as Oo,na as Ne,nb as C,o as No,oa as ze,ob as y,p as K,pa as qo,pb as yt,q as Vo,qa as xe,qb as X,r as Je,ra as Zo,rb as J,s as ur,sa as Yt,sb as ee,t as Lo,ta as Ko,tb as Zi,u as ji,ua as It,ub as ii,v as Fo,va as yr,vb as Ee,w as Uo,wa as Wi,wb as rs,x as Bi,xa as ae,xb as ni,y as He,ya as Yo,yb as g,z as hr,za as h,zb as v}from"./chunk-ZZROLK7J.js";var oi=class{_doc;constructor(t){this._doc=t}manager},Qi=(()=>{class n extends oi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(j(oe))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),en=new O(""),Rr=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});let r=e.filter(s=>!(s instanceof Qi));this._plugins=r.slice().reverse();let o=e.find(s=>s instanceof Qi);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(j(en),j(ve))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),xr="ng-app-id";function Ds(n){for(let t of n)t.remove()}function Es(n,t){let e=t.createElement("style");return e.textContent=n,e}function Ul(n,t,e,i){let r=n.head?.querySelectorAll(`style[${xr}="${t}"],link[${xr}="${t}"]`);if(r)for(let o of r)o.removeAttribute(xr),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Er(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Ir=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,Ul(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,Es);i?.forEach(r=>this.addUsage(r,this.external,Er))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(Ds(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ds(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,Es(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Er(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(j(oe),j(Yt),j(yr,8),j(It))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Dr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mr=/%COMP%/g;var Is="%COMP%",jl=`_nghost-${Is}`,Bl=`_ngcontent-${Is}`,Hl=!0,zl=new O("",{factory:()=>Hl});function $l(n){return Bl.replace(Mr,n)}function Gl(n){return jl.replace(Mr,n)}function Ms(n,t){return t.map(e=>e.replace(Mr,n))}var Tr=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,i,r,o,s,a,d=null,p=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=d,this.tracingService=p,this.defaultRenderer=new si(e,s,a,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof Ji?r.applyToHost(e):r instanceof ai&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,w=this.tracingService;switch(i.encapsulation){case Wi.Emulated:o=new Ji(d,p,i,this.appId,m,s,a,w);break;case Wi.ShadowDom:return new Xi(d,e,i,s,a,this.nonce,w,p);case Wi.ExperimentalIsolatedShadowDom:return new Xi(d,e,i,s,a,this.nonce,w);default:o=new ai(d,p,i,m,s,a,w);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(j(Rr),j(Ir),j(Yt),j(zl),j(oe),j(ve),j(yr),j(Xo,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),si=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Dr[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Rs(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Rs(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new $(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Dr[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Dr[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Qt.DashCase|Qt.Important)?t.style.setProperty(e,i,r&Qt.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Qt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=lt().getGlobalEventTarget(this.doc,t),!t))throw new $(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Rs(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xi=class extends si{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,r,o,s,a,d){super(t,r,o,a),this.hostEl=e,this.sharedStylesHost=d,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=Ms(i.id,p);for(let w of p){let N=document.createElement("style");s&&N.setAttribute("nonce",s),N.textContent=w,this.shadowRoot.appendChild(N)}let m=i.getExternalStyles?.();if(m)for(let w of m){let N=Er(w,r);s&&N.setAttribute("nonce",s),this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ai=class extends si{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,s,a,d){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let p=i.styles;this.styles=d?Ms(d,p):p,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Qo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ji=class extends ai{contentAttr;hostAttr;constructor(t,e,i,r,o,s,a,d){let p=r+"-"+i.id;super(t,e,i,o,s,a,d,p),this.contentAttr=$l(p),this.hostAttr=Gl(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var tn=class n extends hs{supportsDOMEvents=!0;static makeCurrent(){us(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Wl();return e==null?null:ql(e)}resetBaseElement(){li=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ys(document.cookie,t)}},li=null;function Wl(){return li=li||document.head.querySelector("base"),li?li.getAttribute("href"):null}function ql(n){return new URL(n,document.baseURI).pathname}var Zl=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Ts=["alt","control","meta","shift"],Kl={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},As=(()=>{class n extends oi{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Ts.forEach(p=>{let m=i.indexOf(p);m>-1&&(i.splice(m,1),s+=p+".")}),s+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=s,d}static matchEventFullKeyCode(e,i){let r=Kl[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ts.forEach(s=>{if(s!==r){let a=Yl[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(j(oe))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function Ar(n,t,e){let i=_({rootComponent:n,platformRef:e?.platformRef},Ql(t));return ls(i)}function Ql(n){return{appProviders:[...ic,...n?.providers??[]],platformProviders:tc}}function Xl(){tn.makeCurrent()}function Jl(){return new _r}function ec(){return Zo(document),document}var tc=[{provide:It,useValue:Cs},{provide:Ko,useValue:Xl,multi:!0},{provide:oe,useFactory:ec}];var ic=[{provide:$o,useValue:"root"},{provide:_r,useFactory:Jl},{provide:en,useClass:Qi,multi:!0},{provide:en,useClass:As,multi:!0},Tr,Ir,Rr,{provide:at,useExisting:Tr},{provide:bs,useClass:Zl},[]];var Ps=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(j(oe))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R="primary",Ci=Symbol("RouteTitle"),Vr=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function St(n){return new Vr(n)}function Bs(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ln(n){return new Promise((t,e)=>{n.pipe(ot()).subscribe({next:i=>t(i),error:i=>e(i)})})}function rc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ge(n[e],t[e]))return!1;return!0}function Ge(n,t){let e=n?Lr(n):void 0,i=t?Lr(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Hs(n[r],t[r]))return!1;return!0}function Lr(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Hs(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function zs(n){return n.length>0?n[n.length-1]:null}function Dt(n){return Ui(n)?n:qi(n)?ge(Promise.resolve(n)):M(n)}function $s(n){return Ui(n)?ln(n):Promise.resolve(n)}var oc={exact:Ws,subset:qs},Gs={exact:sc,subset:ac,ignored:()=>!0};function ks(n,t,e){return oc[e.paths](n.root,t.root,e.matrixParams)&&Gs[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function sc(n,t){return Ge(n,t)}function Ws(n,t,e){if(!Ct(n.segments,t.segments)||!on(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!Ws(n.children[i],t.children[i],e))return!1;return!0}function ac(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Hs(n[e],t[e]))}function qs(n,t,e){return Zs(n,t,t.segments,e)}function Zs(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Ct(r,e)||t.hasChildren()||!on(r,e,i))}else if(n.segments.length===e.length){if(!Ct(n.segments,e)||!on(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!qs(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Ct(n.segments,r)||!on(n.segments,r,i)||!n.children[R]?!1:Zs(n.children[R],t,o,i)}}function on(n,t,e){return t.every((i,r)=>Gs[e](n[r].parameters,i.parameters))}var Fe=class{root;queryParams;fragment;_queryParamMap;constructor(t=new L([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=St(this.queryParams),this._queryParamMap}toString(){return dc.serialize(this)}},L=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}},ct=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=St(this.parameters),this._parameterMap}toString(){return Ys(this)}};function lc(n,t){return Ct(n,t)&&n.every((e,i)=>Ge(e.parameters,t[i].parameters))}function Ct(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function cc(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===R&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==R&&(e=e.concat(t(r,i)))}),e}var wi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>new dt,providedIn:"root"})}return n})(),dt=class{parse(t){let e=new Ur(t);return new Fe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ci(t.root,!0)}`,i=pc(t.queryParams),r=typeof t.fragment=="string"?`#${uc(t.fragment)}`:"";return`${e}${i}${r}`}},dc=new dt;function sn(n){return n.segments.map(t=>Ys(t)).join("/")}function ci(n,t){if(!n.hasChildren())return sn(n);if(t){let e=n.children[R]?ci(n.children[R],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==R&&i.push(`${r}:${ci(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=cc(n,(i,r)=>r===R?[ci(n.children[R],!1)]:[`${r}:${ci(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[R]!=null?`${sn(n)}/${e[0]}`:`${sn(n)}/(${e.join("//")})`}}function Ks(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nn(n){return Ks(n).replace(/%3B/gi,";")}function uc(n){return encodeURI(n)}function Fr(n){return Ks(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function an(n){return decodeURIComponent(n)}function Os(n){return an(n.replace(/\+/g,"%20"))}function Ys(n){return`${Fr(n.path)}${hc(n.parameters)}`}function hc(n){return Object.entries(n).map(([t,e])=>`;${Fr(t)}=${Fr(e)}`).join("")}function pc(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${nn(e)}=${nn(r)}`).join("&"):`${nn(e)}=${nn(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var fc=/^[^\/()?;#]+/;function Pr(n){let t=n.match(fc);return t?t[0]:""}var mc=/^[^\/()?;=#]+/;function gc(n){let t=n.match(mc);return t?t[0]:""}var vc=/^[^=?&#]+/;function _c(n){let t=n.match(vc);return t?t[0]:""}var yc=/^[^&#]+/;function bc(n){let t=n.match(yc);return t?t[0]:""}var Ur=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[R]=new L(t,e)),i}parseSegment(){let t=Pr(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new ct(an(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=gc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Pr(this.remaining);r&&(i=r,this.capture(i))}t[an(e)]=an(i)}parseQueryParam(t){let e=_c(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=bc(this.remaining);s&&(i=s,this.capture(i))}let r=Os(e),o=Os(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Pr(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=R);let s=this.parseChildren();e[o??R]=Object.keys(s).length===1&&s[R]?s[R]:new L([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}};function Qs(n){return n.segments.length>0?new L([],{[R]:n}):n}function Xs(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=Xs(r);if(i===R&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new L(n.segments,t);return Cc(e)}function Cc(n){if(n.numberOfChildren===1&&n.children[R]){let t=n.children[R];return new L(n.segments.concat(t.segments),t.children)}return n}function ut(n){return n instanceof Fe}function Js(n,t,e=null,i=null,r=new dt){let o=ea(n);return ta(o,t,e,i,r)}function ea(n){let t;function e(o){let s={};for(let d of o.children){let p=e(d);s[d.outlet]=p}let a=new L(o.url,s);return o===n&&(t=a),a}let i=e(n.root),r=Qs(i);return t??r}function ta(n,t,e,i,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return kr(o,o,o,e,i,r);let s=wc(t);if(s.toRoot())return kr(o,o,new L([],{}),e,i,r);let a=Sc(s,o,n),d=a.processChildren?ui(a.segmentGroup,a.index,s.commands):na(a.segmentGroup,a.index,s.commands);return kr(o,a.segmentGroup,d,e,i,r)}function cn(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function fi(n){return typeof n=="object"&&n!=null&&n.outlets}function Ns(n,t,e){n||="\u0275";let i=new Fe;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function kr(n,t,e,i,r,o){let s={};for(let[p,m]of Object.entries(i??{}))s[p]=Array.isArray(m)?m.map(w=>Ns(p,w,o)):Ns(p,m,o);let a;n===t?a=e:a=ia(n,t,e);let d=Qs(Xs(a));return new Fe(d,s,r)}function ia(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=ia(o,t,e)}),new L(n.segments,i)}var dn=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&cn(i[0]))throw new $(4003,!1);let r=i.find(fi);if(r&&r!==zs(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wc(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dn(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([d,p])=>{a[d]=typeof p=="string"?p.split("/"):p}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,d)=>{d==0&&a==="."||(d==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new dn(e,t,i)}var Pt=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Sc(n,t,e){if(n.isAbsolute)return new Pt(t,!0,0);if(!e)return new Pt(t,!1,NaN);if(e.parent===null)return new Pt(e,!0,0);let i=cn(n.commands[0])?0:1,r=e.segments.length-1+i;return xc(e,r,n.numberOfDoubleDots)}function xc(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Pt(i,!1,r-o)}function Dc(n){return fi(n[0])?n[0].outlets:{[R]:n}}function na(n,t,e){if(n??=new L([],{}),n.segments.length===0&&n.hasChildren())return ui(n,t,e);let i=Ec(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new L(n.segments.slice(0,i.pathIndex),{});return o.children[R]=new L(n.segments.slice(i.pathIndex),n.children),ui(o,0,r)}else return i.match&&r.length===0?new L(n.segments,{}):i.match&&!n.hasChildren()?jr(n,t,e):i.match?ui(n,0,r):jr(n,t,e)}function ui(n,t,e){if(e.length===0)return new L(n.segments,{});{let i=Dc(e),r={};if(Object.keys(i).some(o=>o!==R)&&n.children[R]&&n.numberOfChildren===1&&n.children[R].segments.length===0){let o=ui(n.children[R],t,e);return new L(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=na(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new L(n.segments,r)}}function Ec(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],a=e[i];if(fi(a))break;let d=`${a}`,p=i<e.length-1?e[i+1]:null;if(r>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!Ls(d,p,s))return o;i+=2}else{if(!Ls(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function jr(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(fi(o)){let d=Rc(o.outlets);return new L(i,d)}if(r===0&&cn(e[0])){let d=n.segments[t];i.push(new ct(d.path,Vs(e[0]))),r++;continue}let s=fi(o)?o.outlets[R]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&cn(a)?(i.push(new ct(s,Vs(a))),r+=2):(i.push(new ct(s,{})),r++)}return new L(i,{})}function Rc(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=jr(new L([],{}),0,i))}),t}function Vs(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Ls(n,t,e){return n==e.path&&Ge(t,e.parameters)}var hi="imperative",re=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(re||{}),Ce=class{id;url;constructor(t,e){this.id=t,this.url=e}},xt=class extends Ce{type=re.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ue=class extends Ce{urlAfterRedirects;type=re.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},de=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(de||{}),mi=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(mi||{}),We=class extends Ce{reason;code;type=re.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tt=class extends Ce{reason;code;type=re.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},Ot=class extends Ce{error;target;type=re.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gi=class extends Ce{urlAfterRedirects;state;type=re.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},un=class extends Ce{urlAfterRedirects;state;type=re.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hn=class extends Ce{urlAfterRedirects;state;shouldActivate;type=re.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pn=class extends Ce{urlAfterRedirects;state;type=re.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fn=class extends Ce{urlAfterRedirects;state;type=re.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mn=class{route;type=re.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gn=class{route;type=re.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vn=class{snapshot;type=re.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_n=class{snapshot;type=re.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yn=class{snapshot;type=re.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bn=class{snapshot;type=re.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vi=class{},Nt=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Ic(n){return!(n instanceof vi)&&!(n instanceof Nt)}function Mc(n,t){return n.providers&&!n._injector&&(n._injector=br(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Le(n){return n.outlet||R}function Tc(n,t){let e=n.filter(i=>Le(i)===t);return e.push(...n.filter(i=>Le(i)!==t)),e}function Ft(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Cn=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ft(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ut(this.rootInjector)}},Ut=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Cn(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(j(st))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wn=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Br(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Br(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Hr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Hr(t,this._root).map(e=>e.value)}};function Br(n,t){if(n===t.value)return t;for(let e of t.children){let i=Br(n,e);if(i)return i}return null}function Hr(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Hr(n,e);if(i.length)return i.unshift(t),i}return[]}var be=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function At(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var _i=class extends wn{snapshot;constructor(t,e){super(t),this.snapshot=e,Zr(this,t)}toString(){return this.snapshot.toString()}};function ra(n){let t=Ac(n),e=new he([new ct("",{})]),i=new he({}),r=new he({}),o=new he({}),s=new he(""),a=new we(e,i,o,s,r,R,n,t.root);return a.snapshot=t.root,new _i(new be(a,[]),t)}function Ac(n){let t={},e={},i={},o=new wt([],t,i,"",e,R,n,null,{});return new yi("",new be(o,[]))}var we=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,s,a,d){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(K(p=>p[Ci]))??M(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>St(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>St(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sn(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:_(_({},t.params),n.params),data:_(_({},t.data),n.data),resolve:_(_(_(_({},n.data),t.data),r?.data),n._resolvedData)}:i={params:_({},n.params),data:_({},n.data),resolve:_(_({},n.data),n._resolvedData??{})},r&&sa(r)&&(i.resolve[Ci]=r.title),i}var wt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ci]}constructor(t,e,i,r,o,s,a,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=St(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=St(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},yi=class extends wn{url;constructor(t,e){super(e),this.url=t,Zr(this,e)}toString(){return oa(this._root)}};function Zr(n,t){t.value._routerState=n,t.children.forEach(e=>Zr(n,e))}function oa(n){let t=n.children.length>0?` { ${n.children.map(oa).join(", ")} } `:"";return`${n.value}${t}`}function Or(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ge(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ge(t.params,e.params)||n.paramsSubject.next(e.params),rc(t.url,e.url)||n.urlSubject.next(e.url),Ge(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zr(n,t){let e=Ge(n.params,t.params)&&lc(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||zr(n.parent,t.parent))}function sa(n){return typeof n.title=="string"||n.title===null}var aa=new O(""),Si=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=R;activateEvents=new G;deactivateEvents=new G;attachEvents=new G;detachEvents=new G;routerOutletData=as();parentContexts=f(Ut);location=f(Jt);changeDetector=f(ne);inputBinder=f(Rn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,d=new $r(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=q({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ne]})}return n})(),$r=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===we?this.route:t===Ut?this.childContexts:t===aa?this.outletData:this.parent.get(t,e)}},Rn=new O("");var Kr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=V({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&B(0,"router-outlet")},dependencies:[Si],encapsulation:2})}return n})();function Yr(n){let t=n.children&&n.children.map(Yr),e=t?H(_({},n),{children:t}):_({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==R&&(e.component=Kr),e}function Pc(n,t,e){let i=bi(n,t._root,e?e._root:void 0);return new _i(i,t)}function bi(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=kc(n,t,e);return new be(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>bi(n,a)),s}}let i=Oc(t.value),r=t.children.map(o=>bi(n,o));return new be(i,r)}}function kc(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return bi(n,i,r);return bi(n,i)})}function Oc(n){return new we(new he(n.url),new he(n.params),new he(n.queryParams),new he(n.fragment),new he(n.data),n.outlet,n.component,n)}var Vt=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},la="ngNavigationCancelingError";function xn(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=ut(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ca(!1,de.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function ca(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[la]=!0,e.cancellationCode=t,e}function Nc(n){return da(n)&&ut(n.url)}function da(n){return!!n&&n[la]}var Vc=(n,t,e,i)=>K(r=>(new Gr(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),Gr=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Or(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=At(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=At(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=At(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=At(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new bn(o.value.snapshot))}),t.children.length&&this.forwardEvent(new _n(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(Or(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Or(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Dn=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},kt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Lc(n,t,e){let i=n._root,r=t?t._root:null;return di(i,r,e,[i.value])}function Fc(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function jt(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!zo(n)?n:t.get(n):i}function di(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=At(t);return n.children.forEach(s=>{Uc(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pi(a,e.getContext(s),r)),r}function Uc(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=jc(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Dn(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?di(n,t,a?a.children:null,i,r):di(n,t,e,i,r),d&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new kt(a.outlet.component,s))}else s&&pi(t,a,r),r.canActivateChecks.push(new Dn(i)),o.component?di(n,null,a?a.children:null,i,r):di(n,null,e,i,r);return r}function jc(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ct(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ct(n.url,t.url)||!Ge(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zr(n,t)||!Ge(n.queryParams,t.queryParams);case"paramsChange":default:return!zr(n,t)}}function pi(n,t,e){let i=At(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?pi(s,t.children.getContext(o),e):pi(s,null,e):pi(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new kt(t.outlet.component,r)):e.canDeactivateChecks.push(new kt(null,r)):e.canDeactivateChecks.push(new kt(null,r))}function xi(n){return typeof n=="function"}function Bc(n){return typeof n=="boolean"}function Hc(n){return n&&xi(n.canLoad)}function zc(n){return n&&xi(n.canActivate)}function $c(n){return n&&xi(n.canActivateChild)}function Gc(n){return n&&xi(n.canDeactivate)}function Wc(n){return n&&xi(n.canMatch)}function ua(n){return n instanceof Oo||n?.name==="EmptyError"}var rn=Symbol("INITIAL_VALUE");function Lt(){return pe(n=>Vo(n.map(t=>t.pipe(rt(1),Rt(rn)))).pipe(K(t=>{for(let e of t)if(e!==!0){if(e===rn)return rn;if(e===!1||qc(e))return e}return!0}),He(t=>t!==rn),rt(1)))}function qc(n){return ut(n)||n instanceof Vt}function ha(n){return n.aborted?M(void 0).pipe(rt(1)):new mt(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function pa(n){return Se(ha(n))}function Zc(n,t){return Je(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?M(H(_({},e),{guardsResult:!0})):Kc(s,i,r,n).pipe(Je(a=>a&&Bc(a)?Yc(i,o,n,t):M(a)),K(a=>H(_({},e),{guardsResult:a})))})}function Kc(n,t,e,i){return ge(n).pipe(Je(r=>td(r.component,r.route,e,t,i)),ot(r=>r!==!0,!0))}function Yc(n,t,e,i){return ge(t).pipe(zi(r=>Lo(Xc(r.route.parent,i),Qc(r.route,i),ed(n,r.path,e),Jc(n,r.route,e))),ot(r=>r!==!0,!0))}function Qc(n,t){return n!==null&&t&&t(new yn(n)),M(!0)}function Xc(n,t){return n!==null&&t&&t(new vn(n)),M(!0)}function Jc(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return M(!0);let r=i.map(o=>ji(()=>{let s=Ft(t)??e,a=jt(o,s),d=zc(a)?a.canActivate(t,n):ke(s,()=>a(t,n));return Dt(d).pipe(ot())}));return M(r).pipe(Lt())}function ed(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Fc(s)).filter(s=>s!==null).map(s=>ji(()=>{let a=s.guards.map(d=>{let p=Ft(s.node)??e,m=jt(d,p),w=$c(m)?m.canActivateChild(i,n):ke(p,()=>m(i,n));return Dt(w).pipe(ot())});return M(a).pipe(Lt())}));return M(o).pipe(Lt())}function td(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let d=Ft(t)??r,p=jt(a,d),m=Gc(p)?p.canDeactivate(n,t,e,i):ke(d,()=>p(n,t,e,i));return Dt(m).pipe(ot())});return M(s).pipe(Lt())}function id(n,t,e,i,r){let o=t.canLoad;if(o===void 0||o.length===0)return M(!0);let s=o.map(a=>{let d=jt(a,n),p=Hc(d)?d.canLoad(t,e):ke(n,()=>d(t,e)),m=Dt(p);return r?m.pipe(pa(r)):m});return M(s).pipe(Lt(),fa(i))}function fa(n){return Po(ie(t=>{if(typeof t!="boolean")throw xn(n,t)}),K(t=>t===!0))}function nd(n,t,e,i,r){let o=t.canMatch;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let d=jt(a,n),p=Wc(d)?d.canMatch(t,e):ke(n,()=>d(t,e)),m=Dt(p);return r?m.pipe(pa(r)):m});return M(s).pipe(Lt(),fa(i))}var bt=class ma extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,ma.prototype)}},Wr=class ga extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,ga.prototype)}};function rd(n){throw new $(4e3,!1)}function od(n){throw ca(!1,de.GuardRejected)}var sd=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[R])throw rd(`${t.redirectTo}`);r=r.children[R]}}async applyRedirectCommands(t,e,i,r,o){let s=await ad(e,r,o);if(s instanceof Fe)throw new Wr(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new Wr(a);return a}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Fe(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,d])=>{s[a]=this.createSegmentGroup(t,d,i,r)}),new L(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function ad(n,t,e){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:d,params:p,data:m,title:w}=t;return ln(Dt(ke(e,()=>i({params:p,data:m,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:d,title:w}))))}var qr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ld(n,t,e,i,r,o){let s=va(n,t,e);return s.matched?(i=Mc(t,i),nd(i,t,e,r,o).pipe(K(a=>a===!0?s:_({},qr)))):M(s)}function va(n,t,e){if(t.path==="**")return cd(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?_({},qr):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Bs)(e,n,t);if(!r)return _({},qr);let o={};Object.entries(r.posParams??{}).forEach(([a,d])=>{o[a]=d.path});let s=r.consumed.length>0?_(_({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function cd(n){return{matched:!0,parameters:n.length>0?zs(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Fs(n,t,e,i){return e.length>0&&hd(n,e,i)?{segmentGroup:new L(t,ud(i,new L(e,n.children))),slicedSegments:[]}:e.length===0&&pd(n,e,i)?{segmentGroup:new L(n.segments,dd(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new L(n.segments,n.children),slicedSegments:e}}function dd(n,t,e,i){let r={};for(let o of e)if(In(n,t,o)&&!i[Le(o)]){let s=new L([],{});r[Le(o)]=s}return _(_({},i),r)}function ud(n,t){let e={};e[R]=t;for(let i of n)if(i.path===""&&Le(i)!==R){let r=new L([],{});e[Le(i)]=r}return e}function hd(n,t,e){return e.some(i=>In(n,t,i)&&Le(i)!==R)}function pd(n,t,e){return e.some(i=>In(n,t,i))}function In(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function fd(n,t,e){return t.length===0&&!n.children[e]}var md=class{};async function gd(n,t,e,i,r,o,s="emptyOnly",a){return new _d(n,t,e,i,r,s,o,a).recognize()}var vd=31,_d=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,s,a,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=d,this.applyRedirects=new sd(this.urlSerializer,this.urlTree)}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}async recognize(){let t=Fs(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=await this.match(t),r=new be(i,e),o=new yi("",r),s=Js(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(t){let e=new wt([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),R,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,R,e),rootSnapshot:e}}catch(i){if(i instanceof Wr)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof bt?this.noMatchError(i):i}}async processSegmentGroup(t,e,i,r,o){if(i.segments.length===0&&i.hasChildren())return this.processChildren(t,e,i,o);let s=await this.processSegment(t,e,i,i.segments,r,!0,o);return s instanceof be?[s]:[]}async processChildren(t,e,i,r){let o=[];for(let d of Object.keys(i.children))d==="primary"?o.unshift(d):o.push(d);let s=[];for(let d of o){let p=i.children[d],m=Tc(e,d),w=await this.processSegmentGroup(t,m,p,d,r);s.push(...w)}let a=_a(s);return yd(a),a}async processSegment(t,e,i,r,o,s,a){for(let d of e)try{return await this.processSegmentAgainstRoute(d._injector??t,e,d,i,r,o,s,a)}catch(p){if(p instanceof bt||ua(p))continue;throw p}if(fd(i,r,o))return new md;throw new bt(i)}async processSegmentAgainstRoute(t,e,i,r,o,s,a,d){if(Le(i)!==s&&(s===R||!In(r,o,i)))throw new bt(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,i,o,s,d);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,d);throw new bt(r)}async expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){let{matched:d,parameters:p,consumedSegments:m,positionalParamSegments:w,remainingSegments:N}=va(e,r,o);if(!d)throw new bt(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vd&&(this.allowRedirects=!1));let te=new wt(o,p,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Us(r),Le(r),r.component??r._loadedComponent??null,r,js(r)),Ke=Sn(te,a,this.paramsInheritanceStrategy);if(te.params=Object.freeze(Ke.params),te.data=Object.freeze(Ke.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let Ye=await this.applyRedirects.applyRedirectCommands(m,r.redirectTo,w,te,t),Q=await this.applyRedirects.lineralizeSegments(r,Ye);return this.processSegment(t,i,e,Q.concat(N),s,!1,a)}async matchSegmentAgainstRoute(t,e,i,r,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await ln(ld(e,i,r,t,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!a?.matched)throw new bt(e);t=i._injector??t;let{routes:d}=await this.getChildConfig(t,i,r),p=i._loadedInjector??t,{parameters:m,consumedSegments:w,remainingSegments:N}=a,te=new wt(w,m,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Us(i),Le(i),i.component??i._loadedComponent??null,i,js(i)),Ke=Sn(te,s,this.paramsInheritanceStrategy);te.params=Object.freeze(Ke.params),te.data=Object.freeze(Ke.data);let{segmentGroup:Ye,slicedSegments:Q}=Fs(e,w,N,d);if(Q.length===0&&Ye.hasChildren()){let Zt=await this.processChildren(p,d,Ye,te);return new be(te,Zt)}if(d.length===0&&Q.length===0)return new be(te,[]);let Et=Le(i)===o,qt=await this.processSegment(p,d,Ye,Q,Et?R:o,!0,te);return new be(te,qt instanceof be?[qt]:[])}async getChildConfig(t,e,i){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await ln(id(t,e,i,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw od(e)}return{routes:[],injector:t}}};function yd(n){n.sort((t,e)=>t.value.outlet===R?-1:e.value.outlet===R?1:t.value.outlet.localeCompare(e.value.outlet))}function bd(n){let t=n.value.routeConfig;return t&&t.path===""}function _a(n){let t=[],e=new Set;for(let i of n){if(!bd(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=_a(i.children);t.push(new be(i.value,r))}return t.filter(i=>!e.has(i))}function Us(n){return n.data||{}}function js(n){return n.resolve||{}}var Cd=new O("",{factory:()=>gd});function wd(n,t,e,i,r,o,s){let a=n.get(Cd);return Je(d=>M(d).pipe(pe(p=>a(n,t,e,i,p.extractedUrl,r,o,s)),K(({state:p,tree:m})=>H(_({},d),{targetSnapshot:p,urlAfterRedirects:m}))))}function Sd(n,t){return Je(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return M(e);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let p of ya(d))s.add(p);let a=0;return ge(s).pipe(zi(d=>o.has(d)?xd(d,i,n,t):(d.data=Sn(d,d.parent,n).resolve,M(void 0))),ie(()=>a++),fr(1),Je(d=>a===s.size?M(e):Xe))})}function ya(n){let t=n.children.map(e=>ya(e)).flat();return[n,...t]}function xd(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!sa(r)&&(o[Ci]=r.title),ji(()=>(n.data=Sn(n,n.parent,e).resolve,Dd(o,n,t,i).pipe(K(s=>(n._resolvedData=s,n.data=_(_({},n.data),s),null)))))}function Dd(n,t,e,i){let r=Lr(n);if(r.length===0)return M({});let o={};return ge(r).pipe(Je(s=>Ed(n[s],t,e,i).pipe(ot(),ie(a=>{if(a instanceof Vt)throw xn(new dt,a);o[s]=a}))),fr(1),K(()=>o),Hi(s=>ua(s)?Xe:ko(s)))}function Ed(n,t,e,i){let r=Ft(t)??i,o=jt(n,r),s=o.resolve?o.resolve(t,e):ke(r,()=>o(t,e));return Dt(s)}function Nr(n){return pe(t=>{let e=n(t);return e?ge(e).pipe(K(()=>t)):M(t)})}var Qr=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===R);return i}getResolvedTitleForRoute(e){return e.data[Ci]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>f(ba),providedIn:"root"})}return n})(),ba=(()=>{class n extends Qr{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(j(Ps))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bt=new O("",{factory:()=>({})}),Di=new O(""),Ca=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(os);async loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await $s(ke(e,()=>i.loadComponent())),s=await xa(Sa(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s,s}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let o=await wa(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function wa(n,t,e,i){let r=await $s(ke(e,()=>n.loadChildren())),o=await xa(Sa(r)),s;o instanceof Jo||Array.isArray(o)?s=o:s=await t.compileModuleAsync(o),i&&i(n);let a,d,p=!1;return Array.isArray(s)?(d=s,p=!0):(a=s.create(e).injector,d=a.get(Di,[],{optional:!0,self:!0}).flat()),{routes:d.map(Yr),injector:a}}function Rd(n){return n&&typeof n=="object"&&"default"in n}function Sa(n){return Rd(n)?n.default:n}async function xa(n){return n}var Mn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>f(Id),providedIn:"root"})}return n})(),Id=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Da=new O("");var Md=()=>{},Ea=new O(""),Ra=(()=>{class n{currentNavigation=F(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=F(null);events=new T;transitionAbortWithErrorSubject=new T;configLoader=f(Ca);environmentInjector=f(st);destroyRef=f($i);urlSerializer=f(wi);rootContexts=f(Ut);location=f(Yi);inputBindingEnabled=f(Rn,{optional:!0})!==null;titleStrategy=f(Qr);options=f(Bt,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(Mn);createViewTransition=f(Da,{optional:!0});navigationErrorHandler=f(Ea,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>M(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new mn(r)),i=r=>this.events.next(new gn(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;se(()=>{this.transitions?.next(H(_({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new he(null),this.transitions.pipe(He(i=>i!==null),pe(i=>{let r=!1,o=new AbortController;return M(i).pipe(pe(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",de.SupersededByNewNavigation),Xe;this.currentTransition=i;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?H(_({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&p!=="reload")return this.events.next(new tt(s.id,this.urlSerializer.serialize(s.rawUrl),"",mi.IgnoredSameUrlNavigation)),s.resolve(!1),Xe;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return M(s).pipe(pe(m=>(this.events.next(new xt(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),m.id!==this.navigationId?Xe:Promise.resolve(m))),wd(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ie(m=>{i.targetSnapshot=m.targetSnapshot,i.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation.update(N=>(N.finalUrl=m.urlAfterRedirects,N));let w=new gi(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:m,extractedUrl:w,source:N,restoredState:te,extras:Ke}=s,Ye=new xt(m,this.urlSerializer.serialize(w),N,te);this.events.next(Ye);let Q=ra(this.rootComponentType).snapshot;return this.currentTransition=i=H(_({},s),{targetSnapshot:Q,urlAfterRedirects:w,extras:H(_({},Ke),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(Et=>(Et.finalUrl=w,Et)),M(i)}else return this.events.next(new tt(s.id,this.urlSerializer.serialize(s.extractedUrl),"",mi.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Xe}),ie(s=>{let a=new un(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),K(s=>(this.currentTransition=i=H(_({},s),{guards:Lc(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),Zc(this.environmentInjector,s=>this.events.next(s)),ie(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw xn(this.urlSerializer,s.guardsResult);let a=new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),He(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",de.GuardRejected),!1)),Nr(s=>{if(s.guards.canActivateChecks.length!==0)return M(s).pipe(ie(a=>{let d=new pn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)}),pe(a=>{let d=!1;return M(a).pipe(Sd(this.paramsInheritanceStrategy,this.environmentInjector),ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(a,"",de.NoDataFromResolver)}}))}),ie(a=>{let d=new fn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)}))}),Nr(s=>{let a=p=>{let m=[];if(p.routeConfig?._loadedComponent)p.component=p.routeConfig?._loadedComponent;else if(p.routeConfig?.loadComponent){let w=Ft(p)??this.environmentInjector;m.push(this.configLoader.loadComponent(w,p.routeConfig).then(N=>{p.component=N}))}for(let w of p.children)m.push(...a(w));return m},d=a(s.targetSnapshot.root);return d.length===0?M(s):ge(Promise.all(d).then(()=>s))}),Nr(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,d=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return d?ge(d).pipe(K(()=>i)):M(i)}),K(s=>{let a=Pc(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=H(_({},s),{targetRouterState:a}),this.currentNavigation.update(d=>(d.targetRouterState=a,d)),i}),ie(()=>{this.events.next(new vi)}),Vc(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),rt(1),Se(ha(o.signal).pipe(He(()=>!r&&!i.targetRouterState),ie(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",de.Aborted)}))),ie({next:s=>{r=!0,this.currentNavigation.update(a=>(a.abort=Md,a)),this.lastSuccessfulNavigation.set(se(this.currentNavigation)),this.events.next(new Ue(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Se(this.transitionAbortWithErrorSubject.pipe(ie(s=>{throw s}))),Bo(()=>{o.abort(),r||this.cancelNavigationTransition(i,"",de.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Hi(s=>{if(this.destroyed)return i.resolve(!1),Xe;if(r=!0,da(s))this.events.next(new We(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Nc(s)?this.events.next(new Nt(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Ot(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let d=ke(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(d instanceof Vt){let{message:p,cancellationCode:m}=xn(this.urlSerializer,d);this.events.next(new We(i.id,this.urlSerializer.serialize(i.extractedUrl),p,m)),this.events.next(new Nt(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(d){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(d)}}return Xe}))}))}cancelNavigationTransition(e,i,r){let o=new We(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=se(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Td(n){return n!==hi}var Ia=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>f(Ad),providedIn:"root"})}return n})(),En=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Ad=(()=>{class n extends En{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xr=(()=>{class n{urlSerializer=f(wi);options=f(Bt,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(Yi);urlHandlingStrategy=f(Mn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fe;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=r??o;return s instanceof Fe?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=ra(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:()=>f(Ma),providedIn:"root"})}return n})(),Ma=(()=>{class n extends Xr{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof xt?this.updateStateMemento():e instanceof tt?this.commitTransition(i):e instanceof gi?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof vi?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof We&&e.code!==de.SupersededByNewNavigation&&e.code!==de.Redirect?this.restoreHistory(i):e instanceof Ot?this.restoreHistory(i,!0):e instanceof Ue&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,d=_(_({},s),this.generateNgRouterState(r,a));this.location.replaceState(e,"",d)}else{let a=_(_({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jr(n,t){n.events.pipe(He(e=>e instanceof Ue||e instanceof We||e instanceof Ot||e instanceof tt),K(e=>e instanceof Ue||e instanceof tt?0:(e instanceof We?e.code===de.Redirect||e.code===de.SupersededByNewNavigation:!1)?2:1),He(e=>e!==2),rt(1)).subscribe(()=>{t()})}var Pd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(ts);stateManager=f(Xr);options=f(Bt,{optional:!0})||{};pendingTasks=f(Go);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(Ra);urlSerializer=f(wi);location=f(Yi);urlHandlingStrategy=f(Mn);injector=f(st);_events=new T;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(Ia);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(Di,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Rn,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=se(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof We&&i.code!==de.Redirect&&i.code!==de.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ue)this.navigated=!0;else if(i instanceof Nt){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),d=_({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Td(r.source)},s);this.scheduleNavigation(a,hi,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Ic(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let d=_({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o).catch(d=>{this.disposed||this.injector.get(Gi)(d)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return se(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Yr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:s,m=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":m=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let w;try{let N=r?r.snapshot:this.routerState.snapshot.root;w=ea(N)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),w=this.currentUrlTree.root}return ta(w,e,m,p??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=ut(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,hi,null,i)}navigate(e,i={skipLocationChange:!1}){return Od(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Ho(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=_({},Pd):i===!1?r=_({},kd):r=i,ut(e))return ks(this.currentUrlTree,e,r);let o=this.parseUrl(e);return ks(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,d,p;s?(a=s.resolve,d=s.reject,p=s.promise):p=new Promise((w,N)=>{a=w,d=N});let m=this.pendingTasks.add();return Jr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Od(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new $(4008,!1)}var W=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=F(null);get href(){return se(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new T;applicationErrorHandler=f(Gi);options=f(Bt,{optional:!0});constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(f(new ss("href"),{optional:!0}));let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area"||!!(typeof customElements=="object"&&customElements.get(d)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Ue&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ut(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,d)?.catch(p=>{this.applicationErrorHandler(p)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ut(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(I(me),I(we),qo("tabindex"),I(gt),I(xe),I(ps))};static \u0275dir=q({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&D("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&vt("href",r.reactiveHref(),Yo)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fe],replaceUrl:[2,"replaceUrl","replaceUrl",fe],routerLink:"routerLink"},features:[Ne]})}return n})(),to=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new G;link=f(W,{optional:!0});constructor(e,i,r,o){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof Ue&&this.update()})}ngAfterContentInit(){M(this.links.changes,M(null)).pipe(ur()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ge(e).pipe(ur()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=Vd(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(I(me),I(xe),I(gt),I(ne))};static \u0275dir=q({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&ns(o,W,5),i&2){let s;Cr(s=wr())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ne]})}return n})();function Vd(n){return!!n.paths}var Ld=new O("");function io(n,...t){return mr([{provide:Di,multi:!0,useValue:n},[],{provide:we,useFactory:Fd},{provide:is,multi:!0,useFactory:Ud},t.map(e=>e.\u0275providers)])}function Fd(){return f(me).routerState.root}function Ud(){let n=f(Oe);return t=>{let e=n.get(Tt);if(t!==e.components[0])return;let i=n.get(me),r=n.get(jd);n.get(Bd)===1&&i.initialNavigation(),n.get(Hd,null,{optional:!0})?.setUpPreloading(),n.get(Ld,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var jd=new O("",{factory:()=>new T}),Bd=new O("",{factory:()=>1});var Hd=new O("");var Ua=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(I(gt),I(xe))};static \u0275dir=q({type:n})}return n})(),oo=(()=>{class n extends Ua{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275dir=q({type:n,features:[De]})}return n})(),Fn=new O(""),zd={provide:Fn,useExisting:et(()=>so),multi:!0},so=(()=>{class n extends oo{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275dir=q({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&D("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ee([zd]),De]})}return n})(),$d={provide:Fn,useExisting:et(()=>Re),multi:!0};function Gd(){let n=lt()?lt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Wd=new O(""),Re=(()=>{class n extends Ua{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Gd())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(I(gt),I(xe),I(Wd,8))};static \u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&D("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Ee([$d]),De]})}return n})();function qd(n){return n==null||ja(n)===0}function ja(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Un=new O(""),Ba=new O("");function Zd(n){return qd(n.value)?{required:!0}:null}function Kd(n){return t=>{let e=t.value?.length??ja(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function Aa(n){return null}function Ha(n){return n!=null}function za(n){return qi(n)?ge(n):n}function $a(n){let t={};return n.forEach(e=>{t=e!=null?_(_({},t),e):t}),Object.keys(t).length===0?null:t}function Ga(n,t){return t.map(e=>e(n))}function Yd(n){return!n.validate}function Wa(n){return n.map(t=>Yd(t)?t:e=>t.validate(e))}function Qd(n){if(!n)return null;let t=n.filter(Ha);return t.length==0?null:function(e){return $a(Ga(e,t))}}function ao(n){return n!=null?Qd(Wa(n)):null}function Xd(n){if(!n)return null;let t=n.filter(Ha);return t.length==0?null:function(e){let i=Ga(e,t).map(za);return Fo(i).pipe(K($a))}}function lo(n){return n!=null?Xd(Wa(n)):null}function Pa(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Jd(n){return n._rawValidators}function eu(n){return n._rawAsyncValidators}function no(n){return n?Array.isArray(n)?n:[n]:[]}function An(n,t){return Array.isArray(n)?n.includes(t):n===t}function ka(n,t){let e=no(t);return no(n).forEach(r=>{An(e,r)||e.push(r)}),e}function Oa(n,t){return no(t).filter(e=>!An(n,e))}var Pn=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ao(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},$t=class extends Pn{name;get formDirective(){return null}get path(){return null}},Ai=class extends Pn{_parent=null;name=null;valueAccessor=null},kn=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var qe=(()=>{class n extends kn{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(I(Ai,2))};static \u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[De]})}return n})(),pt=(()=>{class n extends kn{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(I($t,10))};static \u0275dir=q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[De]})}return n})();var Ei="VALID",Tn="INVALID",Ht="PENDING",Ri="DISABLED",ht=class{},On=class extends ht{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Mi=class extends ht{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ti=class extends ht{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},zt=class extends ht{status;source;constructor(t,e){super(),this.status=t,this.source=e}},ro=class extends ht{source;constructor(t){super(),this.source=t}},Nn=class extends ht{source;constructor(t){super(),this.source=t}};function qa(n){return(jn(n)?n.validators:n)||null}function tu(n){return Array.isArray(n)?ao(n):n||null}function Za(n,t){return(jn(t)?t.asyncValidators:n)||null}function iu(n){return Array.isArray(n)?lo(n):n||null}function jn(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nu(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new $(1e3,"");if(!i[e])throw new $(1001,"")}function ru(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new $(1002,"")})}var Vn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return se(this.statusReactive)}set status(t){se(()=>this.statusReactive.set(t))}_status=ri(()=>this.statusReactive());statusReactive=F(void 0);get valid(){return this.status===Ei}get invalid(){return this.status===Tn}get pending(){return this.status==Ht}get disabled(){return this.status===Ri}get enabled(){return this.status!==Ri}errors;get pristine(){return se(this.pristineReactive)}set pristine(t){se(()=>this.pristineReactive.set(t))}_pristine=ri(()=>this.pristineReactive());pristineReactive=F(!0);get dirty(){return!this.pristine}get touched(){return se(this.touchedReactive)}set touched(t){se(()=>this.touchedReactive.set(t))}_touched=ri(()=>this.touchedReactive());touchedReactive=F(!1);get untouched(){return!this.touched}_events=new T;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ka(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ka(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Oa(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Oa(t,this._rawAsyncValidators))}hasValidator(t){return An(this._rawValidators,t)}hasAsyncValidator(t){return An(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(H(_({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Ti(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Ti(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(H(_({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Mi(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Mi(!0,i))}markAsPending(t={}){this.status=Ht;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zt(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(H(_({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ri,this.errors=null,this._forEachChild(r=>{r.disable(H(_({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new On(this.value,i)),this._events.next(new zt(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(_({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ei,this._forEachChild(i=>{i.enable(H(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(H(_({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ei||this.status===Ht)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new On(this.value,e)),this._events.next(new zt(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(H(_({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ri:Ei}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ht,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=za(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new zt(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?Ri:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ht)?Ht:this._anyControlsHaveStatus(Tn)?Tn:Ei}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Mi(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ti(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jn(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=tu(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=iu(this._rawAsyncValidators)}},Ln=class extends Vn{constructor(t,e,i){super(qa(e),Za(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ru(this,!0,t),Object.keys(t).forEach(i=>{nu(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,H(_({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Nn(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Bn=new O("",{factory:()=>Hn}),Hn="always";function ou(n,t){return[...t.path,n]}function Ka(n,t,e=Hn){Ya(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),au(n,t),cu(n,t),lu(n,t),su(n,t)}function Na(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function su(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Ya(n,t){let e=Jd(n);t.validator!==null?n.setValidators(Pa(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=eu(n);t.asyncValidator!==null?n.setAsyncValidators(Pa(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Na(t._rawValidators,r),Na(t._rawAsyncValidators,r)}function au(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Qa(n,t)})}function lu(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Qa(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Qa(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cu(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function du(n,t){n==null,Ya(n,t)}function uu(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function hu(n){return Object.getPrototypeOf(n.constructor)===oo}function pu(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fu(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Re?e=o:hu(o)?i=o:r=o}),r||i||e||null}var mu={provide:$t,useExisting:et(()=>it)},Ii=Promise.resolve(),it=(()=>{class n extends $t{callSetDisabledState;get submitted(){return se(this.submittedReactive)}_submitted=ri(()=>this.submittedReactive());submittedReactive=F(!1);_directives=new Set;form;ngSubmit=new G;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new Ln({},ao(e),lo(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ii.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Ka(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ii.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ii.then(()=>{let i=this._findContainer(e.path),r=new Ln({});du(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ii.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ii.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),pu(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new ro(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(I(Un,10),I(Ba,10),I(Bn,8))};static \u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&D("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ee([mu]),De]})}return n})();function Va(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function La(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var gu=class extends Vn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(qa(e),Za(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jn(e)&&(e.nonNullable||e.initialValueIsDefault)&&(La(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Nn(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Va(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Va(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){La(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var vu={provide:Ai,useExisting:et(()=>je)},Fa=Promise.resolve(),je=(()=>{class n extends Ai{_changeDetectorRef;callSetDisabledState;control=new gu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new G;constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fu(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),uu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ka(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Fa.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&fe(i);Fa.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ou(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(I($t,9),I(Un,10),I(Ba,10),I(Fn,10),I(ne,8),I(Bn,8))};static \u0275dir=q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ee([vu]),De,Ne]})}return n})();var ft=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),_u={provide:Fn,useExisting:et(()=>co),multi:!0},co=(()=>{class n extends oo{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275dir=q({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&D("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ee([_u]),De]})}return n})();var yu=new O("");function bu(n){return typeof n=="number"?n:parseInt(n,10)}var Xa=(()=>{class n{_validator=Aa;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Aa,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=q({type:n,features:[Ne]})}return n})();var Cu={provide:Un,useExisting:et(()=>nt),multi:!0};var nt=(()=>{class n extends Xa{required;inputName="required";normalizeInput=fe;createValidator=e=>Zd;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275dir=q({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&vt("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ee([Cu]),De]})}return n})();var wu={provide:Un,useExisting:et(()=>uo),multi:!0},uo=(()=>{class n extends Xa{minlength;inputName="minlength";normalizeInput=e=>bu(e);createValidator=e=>Kd(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=ze(n)))(r||n)}})();static \u0275dir=q({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&vt("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ee([wu]),De]})}return n})();var Ja=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ve({type:n});static \u0275inj=Pe({})}return n})();var Ze=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Bn,useValue:e.callSetDisabledState??Hn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ve({type:n});static \u0275inj=Pe({imports:[Ja]})}return n})(),el=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:yu,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Bn,useValue:e.callSetDisabledState??Hn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ve({type:n});static \u0275inj=Pe({imports:[Ja]})}return n})();var Ie=class n{constructor(t){this.http=t}apiUrl="/api/catalog/products";getProducts(t=0,e=10,i=""){let r=`${this.apiUrl}?page=${t}&size=${e}`;return i&&(r+=`&search=${encodeURIComponent(i)}`),console.log(`ProductService: Fetching products from ${r}`),this.http.get(r).pipe(No(5e3))}getProductBySlug(t){return this.http.get(`${this.apiUrl}/${t}`)}getProductById(t){return this.http.get(`${this.apiUrl}/id/${t}`)}createProduct(t){return this.http.post(this.apiUrl,t)}updateProduct(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteProduct(t){return this.http.delete(`${this.apiUrl}/${t}`)}uploadImage(t){let e=new FormData;return e.append("file",t),this.http.post("/api/catalog/images/upload",e,{responseType:"text"})}static \u0275fac=function(e){return new(e||n)(j($e))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};var le=class n{constructor(t,e){this.http=t;this.router=e}apiUrl="/api/auth";isAuthenticated=F(this.hasToken());isAdmin=F(this.checkIfAdmin());login(t){return this.http.post(`${this.apiUrl}/login`,t).pipe(ie(e=>this.setSession(e.token)))}register(t){return this.http.post(`${this.apiUrl}/register`,t).pipe(ie(e=>this.setSession(e.token)))}logout(){localStorage.removeItem("token"),this.isAuthenticated.set(!1),this.isAdmin.set(!1),this.router.navigate(["/login"])}getToken(){return localStorage.getItem("token")}setSession(t){localStorage.setItem("token",t),this.isAuthenticated.set(!0),this.isAdmin.set(this.checkIfAdmin()),this.isAdmin()?this.router.navigate(["/admin"]):this.router.navigate(["/"])}hasToken(){return!!localStorage.getItem("token")}checkIfAdmin(){let t=this.getToken();if(!t)return!1;try{let e=JSON.parse(atob(t.split(".")[1])),i=e.role||e.roles||e.authorities||[];return typeof i=="string"?i==="ADMIN"||i==="ROLE_ADMIN":Array.isArray(i)?i.some(r=>r==="ADMIN"||r==="ROLE_ADMIN"):!1}catch{return!1}}static \u0275fac=function(e){return new(e||n)(j($e),j(me))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};var Me=class n{apiUrl="/api/order/cart";http=f($e);authService=f(le);cartSignal=F({id:0,items:[]});constructor(){this.loadInitialCart(),Kt(()=>{let t=this.cartSignal();this.authService.isAuthenticated()||localStorage.setItem("gs_cart",JSON.stringify(t))})}loadInitialCart(){let t=localStorage.getItem("gs_cart");if(t)try{this.cartSignal.set(JSON.parse(t))}catch(e){console.error("Failed to parse local cart",e)}this.authService.isAuthenticated()&&this.fetchServerCart()}fetchServerCart(){this.http.get(this.apiUrl).subscribe({next:t=>this.cartSignal.set(t),error:t=>console.error("Failed to fetch server cart",t)})}addToCart(t,e=1){let i=this.cartSignal(),r=i.items.findIndex(o=>o.product.id===t.id);if(r>-1){let o=[...i.items];o[r].quantity+=e,this.cartSignal.set(H(_({},i),{items:o}))}else{let o={id:Date.now(),product:t,quantity:e};this.cartSignal.set(H(_({},i),{items:[...i.items,o]}))}this.authService.isAuthenticated()&&this.http.post(`${this.apiUrl}/items`,{productId:t.id,quantity:e}).subscribe({next:o=>this.cartSignal.set(o),error:o=>console.warn("Failed to sync add-to-cart with server",o)})}removeItem(t){let e=this.cartSignal();this.cartSignal.set(H(_({},e),{items:e.items.filter(i=>i.id!==t)})),this.authService.isAuthenticated()&&this.http.delete(`${this.apiUrl}/items/${t}`).subscribe({next:i=>this.cartSignal.set(i),error:i=>console.warn("Failed to sync remove-from-cart with server",i)})}clearCart(){this.cartSignal.set({id:0,items:[]}),localStorage.removeItem("gs_cart")}getCartTotal(){return this.cartSignal().items.reduce((t,e)=>t+e.product.price*e.quantity,0)}getItemCount(){return this.cartSignal().items.reduce((t,e)=>t+e.quantity,0)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};var Gt=class n{http=f($e);currentLang=F(localStorage.getItem("preferred_lang")||"en");translations=F({});constructor(){Kt(()=>{this.loadTranslations(this.currentLang())})}setLanguage(t){this.currentLang.set(t),localStorage.setItem("preferred_lang",t)}loadTranslations(t){this.http.get(`/i18n/${t}.json`).subscribe({next:e=>this.translations.set(e),error:e=>console.error(`Could not load translations for ${t}`,e)})}translate(t,e){let i=t.split("."),r=this.translations();for(let o of i)r&&(r=r[o]);return typeof r!="string"?t:(e&&Object.keys(e).forEach(o=>{r=r.replace(`{{${o}}}`,e[o])}),r)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};var ce=class n{langService=f(Gt);transform(t,e){return this.langService.translate(t,e)}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=es({name:"translate",type:n,pure:!1})};var xu=n=>({count:n}),Du=n=>["/product",n],tl=(n,t)=>t.id;function Eu(n,t){n&1&&(l(0,"div",1)(1,"span",13),u(2),g(3,"translate"),c()()),n&2&&(h(2),C(v(3,1,"HOME.NO_PRODUCTS")))}function Ru(n,t){if(n&1){let e=z();l(0,"button",32),D("click",function(){let r=S(e).$index,o=b(2);return x(o.currentSlide=r)}),c()}if(n&2){let e=t.$index,i=b(2);Z("bg-yellow-500",i.currentSlide===e)("w-8",i.currentSlide===e)("bg-white/50",i.currentSlide!==e)}}function Iu(n,t){if(n&1){let e=z();l(0,"div",14)(1,"div",15),B(2,"img",16)(3,"div",17),c(),l(4,"div",18)(5,"span",19),u(6),g(7,"translate"),c(),l(8,"h1",20),u(9),c(),l(10,"p",21),u(11),c(),l(12,"div",22)(13,"a",23),u(14),g(15,"translate"),c(),l(16,"span",24),u(17),c()()()(),l(18,"button",25),D("click",function(){S(e);let r=b();return x(r.prevSlide())}),gr(),l(19,"svg",26),B(20,"path",27),c()(),vr(),l(21,"button",28),D("click",function(){S(e);let r=b();return x(r.nextSlide())}),gr(),l(22,"svg",26),B(23,"path",29),c()(),vr(),l(24,"div",30),_e(25,Ru,1,6,"button",31,tl),c()}if(n&2){let e=b();h(2),A("src",e.getHeroImage(e.products[e.currentSlide]),ae),h(4),y(" ",v(7,8,"NAV.SACRED_RELICS")," "),h(3),C(e.products[e.currentSlide].name),h(2),C(e.products[e.currentSlide].description),h(2),A("routerLink",ii("/product/",e.products[e.currentSlide].slug)),h(),y(" ",v(15,10,"HOME.ADD_TO_CART")," "),h(3),y(" \\$",e.products[e.currentSlide].price," "),h(8),ye(e.products)}}function Mu(n,t){n&1&&(l(0,"div",1)(1,"p",33),u(2),g(3,"translate"),c()()),n&2&&(h(2),C(v(3,1,"HOME.NO_PRODUCTS")))}function Tu(n,t){if(n&1&&(l(0,"p",5),u(1),g(2,"translate"),c()),n&2){let e=b();h(),y(" ",Ki(2,1,"HOME.FOUND_RESULTS",ni(4,xu,e.products.length))," ")}}function Au(n,t){if(n&1){let e=z();l(0,"button",34),D("click",function(){S(e);let r=b();return r.searchQuery="",x(r.onSearch(""))}),l(1,"span",35),u(2,"close"),c()()}}function Pu(n,t){if(n&1&&(l(0,"div",10)(1,"p",36),u(2,"Error"),c(),l(3,"p"),u(4),c()()),n&2){let e=b();h(4),C(e.errorMsg)}}function ku(n,t){if(n&1&&(l(0,"div",42),u(1),c()),n&2){let e=b().$implicit;h(),yt(" ",(e.currentIndex||0)+1," / ",e.images.length," ")}}function Ou(n,t){if(n&1){let e=z();l(0,"div",12)(1,"div",37),B(2,"img",38),l(3,"div",39)(4,"button",40),D("click",function(r){let o=S(e).$implicit,s=b();return x(s.prevImage(r,o))}),l(5,"span",41),u(6,"chevron_left"),c()(),l(7,"button",40),D("click",function(r){let o=S(e).$implicit,s=b();return x(s.nextImage(r,o))}),l(8,"span",41),u(9,"chevron_right"),c()()(),P(10,ku,2,2,"div",42),l(11,"div",43),u(12," View "),c()(),l(13,"div",44)(14,"h3",45),u(15),c(),l(16,"div",46)(17,"span",47),u(18),c(),l(19,"div",48)(20,"button",49),D("click",function(r){let o=S(e).$implicit,s=b();return x(s.addToCart(r,o))}),l(21,"span",50),u(22,"shopping_bag"),c()(),l(23,"a",51),u(24),g(25,"translate"),c()()()()()}if(n&2){let e=t.$implicit,i=b();h(),A("routerLink",ni(12,Du,e.slug)),h(),A("alt",Zi(e.name))("src",i.getPrimaryImage(e),ae),h(8),k(e.images&&e.images.length>1?10:-1),h(5),y(" ",e.name," "),h(3),y("\\$",e.price),h(5),A("routerLink",ii("/product/",e.slug)),h(),y(" ",v(25,10,"HOME.ADD_TO_CART")," ")}}var zn=class n{products=[];loading=!0;errorMsg="";searchQuery="";currentSlide=0;productService=f(Ie);cartService=f(Me);cdr=f(ne);searchSubject=new T;destroy$=new T;constructor(){}ngOnInit(){this.loadProducts(),this.searchSubject.pipe(jo(400),pr(),Se(this.destroy$)).subscribe(t=>{this.searchQuery=t,this.loadProducts(t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(t){this.searchSubject.next(t)}loadProducts(t=""){this.loading=!0,this.productService.getProducts(0,12,t).subscribe({next:e=>{this.products=e.content.map(i=>H(_({},i),{currentIndex:0})),this.loading=!1,this.cdr.detectChanges()},error:e=>{console.error("Failed to load products for home",e),this.errorMsg="Failed to load catalog.",this.loading=!1,this.cdr.detectChanges()}})}getHeroImage(t){if(!t.images||t.images.length===0)return"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400";let e=t.images[0].imageUrl;return e.startsWith("/uploads")?`${e}`:e}getPrimaryImage(t){if(!t.images||t.images.length===0)return"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400";let e=t.currentIndex||0,i=t.images[e]?.imageUrl||t.images[0].imageUrl;return i.startsWith("/uploads")?`${i}`:i}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.products.length}prevSlide(){this.currentSlide=(this.currentSlide-1+this.products.length)%this.products.length}nextImage(t,e){t.stopPropagation(),t.preventDefault(),e.images&&e.images.length>0&&(e.currentIndex=(e.currentIndex+1)%e.images.length)}prevImage(t,e){t.stopPropagation(),t.preventDefault(),e.images&&e.images.length>0&&(e.currentIndex=(e.currentIndex-1+e.images.length)%e.images.length)}addToCart(t,e){t.stopPropagation(),t.preventDefault(),this.cartService.addToCart(e,1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-home"]],decls:21,vars:11,consts:[[1,"relative","w-full","h-[60vh]","overflow-hidden","bg-gray-900"],[1,"flex","items-center","justify-center","h-full","text-white"],[1,"container","mx-auto","px-4","py-12"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-6","mb-12"],[1,"text-3xl","font-black","text-gray-900","border-l-4","border-yellow-500","pl-4","uppercase","tracking-wider"],[1,"text-sm","text-gray-400","font-bold","mt-1","ml-4","uppercase","tracking-tighter"],[1,"relative","w-full","md:w-96","group"],[1,"material-icons","absolute","left-4","top-1/2","-translate-y-1/2","text-gray-400","group-focus-within:text-yellow-500","transition-colors","text-xl"],["type","text",1,"w-full","pl-12","pr-12","py-3","bg-white","border","border-gray-200","rounded-xl","focus:ring-4","focus:ring-yellow-500/10","focus:border-yellow-500","outline-none","transition-all","text-sm","font-bold","text-gray-800","placeholder-gray-400","shadow-sm",3,"ngModelChange","input","ngModel","placeholder"],[1,"absolute","right-4","top-1/2","-translate-y-1/2","text-gray-400","hover:text-red-500","transition-colors"],[1,"bg-red-100","border-l-4","border-red-500","text-red-700","p-4","mb-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-8"],[1,"group","bg-white","rounded-2xl","shadow-md","hover:shadow-2xl","transition-all","duration-300","overflow-hidden","transform","hover:-translate-y-1","border","border-gray-100","flex","flex-col","h-full"],[1,"animate-pulse","text-2xl","uppercase","font-black","tracking-widest"],[1,"relative","h-full","transition-all","duration-500","ease-in-out"],[1,"absolute","inset-0"],[1,"w-full","h-full","object-cover","opacity-50",3,"src"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/80","via-transparent","to-transparent"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","text-center","text-white","p-4"],[1,"text-yellow-400","font-bold","tracking-widest","text-sm","uppercase","mb-2","animate-bounce"],[1,"text-4xl","md:text-6xl","font-extrabold","mb-4","drop-shadow-lg"],[1,"text-xl","md:text-2xl","mb-8","font-light","max-w-2xl"],[1,"flex","gap-4"],[1,"px-8","py-3","bg-yellow-500","text-black","font-bold","rounded-full","hover:bg-yellow-400","transition-all","transform","hover:scale-105","shadow-lg","uppercase","text-xs","tracking-widest",3,"routerLink"],[1,"px-8","py-3","border","border-white/30","rounded-full","backdrop-blur-sm"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","bg-black/30","hover:bg-black/50","text-white","p-3","rounded-full","backdrop-blur-sm","transition-all",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 19.5L8.25 12l7.5-7.5"],[1,"absolute","right-4","top-1/2","-translate-y-1/2","bg-black/30","hover:bg-black/50","text-white","p-3","rounded-full","backdrop-blur-sm","transition-all",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 4.5l7.5 7.5-7.5 7.5"],[1,"absolute","bottom-6","left-1/2","-translate-x-1/2","flex","gap-2"],[1,"w-2","h-2","rounded-full","transition-all",3,"bg-yellow-500","w-8","bg-white/50"],[1,"w-2","h-2","rounded-full","transition-all",3,"click"],[1,"uppercase","font-black","tracking-widest","text-gray-500"],[1,"absolute","right-4","top-1/2","-translate-y-1/2","text-gray-400","hover:text-red-500","transition-colors",3,"click"],[1,"material-icons","text-lg"],[1,"font-bold"],[1,"relative","aspect-[4/5]","overflow-hidden","bg-gray-100","group/card","cursor-pointer",3,"routerLink"],[1,"w-full","h-full","object-cover","transition-transform","duration-700","group-hover/card:scale-110",3,"src","alt"],[1,"absolute","inset-0","opacity-0","group-hover/card:opacity-100","transition-opacity","flex","items-center","justify-between","px-3","pointer-events-none","z-10"],[1,"pointer-events-auto","bg-white/95","p-1.5","rounded-full","text-yellow-600","shadow-xl","scale-90","hover:scale-100","transition-transform","flex","items-center","justify-center","border","border-gray-100",3,"click"],[1,"material-icons","text-base"],[1,"absolute","bottom-3","left-3","bg-black/60","backdrop-blur-md","text-white","text-[10px]","px-2","py-0.5","rounded","font-black","border","border-white/20","opacity-0","group-hover/card:opacity-100","transition-opacity","tracking-tighter"],[1,"absolute","top-2","right-2","bg-yellow-500","text-white","text-[10px]","font-black","px-2","py-1","rounded-full","shadow","opacity-0","group-hover/card:opacity-100","transition-opacity","tracking-widest","uppercase"],[1,"p-5","flex","flex-col","flex-grow"],[1,"text-lg","font-bold","text-gray-800","mb-2","group-hover:text-yellow-600","transition-colors","line-clamp-2"],[1,"mt-auto","flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"text-xl","font-bold","text-gray-900"],[1,"flex","gap-2"],[1,"p-2","bg-yellow-50","text-yellow-600","rounded-lg","hover:bg-yellow-500","hover:text-white","transition-colors","duration-300","shadow-sm","flex","items-center","justify-center","group/btn",3,"click"],[1,"material-icons","text-xl","group-hover/btn:scale-110","transition-transform"],[1,"bg-gray-900","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","hover:bg-yellow-500","hover:text-white","transition-colors","duration-300","shadow-sm","flex","items-center",3,"routerLink"]],template:function(e,i){e&1&&(l(0,"div",0),P(1,Eu,4,3,"div",1)(2,Iu,27,12)(3,Mu,4,3,"div",1),c(),l(4,"div",2)(5,"div",3)(6,"div")(7,"h2",4),u(8),g(9,"translate"),c(),P(10,Tu,3,6,"p",5),c(),l(11,"div",6)(12,"span",7),u(13,"search"),c(),l(14,"input",8),g(15,"translate"),ee("ngModelChange",function(o){return J(i.searchQuery,o)||(i.searchQuery=o),o}),D("input",function(){return i.onSearch(i.searchQuery)}),c(),P(16,Au,3,0,"button",9),c()(),P(17,Pu,5,1,"div",10),l(18,"div",11),_e(19,Ou,26,14,"div",12,tl),c()()),e&2&&(h(),k(i.loading?1:i.products.length>0?2:3),h(7),y(" ",v(9,7,i.searchQuery?"HOME.SEARCH_RESULTS":"HOME.FULL_COLLECTION")," "),h(2),k(i.searchQuery?10:-1),h(4),X("ngModel",i.searchQuery),A("placeholder",v(15,9,"HOME.SEARCH_PLACEHOLDER")),h(2),k(i.searchQuery?16:-1),h(),k(i.errorMsg?17:-1),h(2),ye(i.products))},dependencies:[Y,W,Ze,Re,qe,je,ce],encapsulation:2})};var Nu=(n,t)=>t.id;function Vu(n,t){n&1&&(l(0,"div",7)(1,"span",9),u(2,"Loading products..."),c()())}function Lu(n,t){if(n&1&&(l(0,"div",10)(1,"div",11),B(2,"img",12),l(3,"div",13),u(4," VIEW "),c()(),l(5,"div",14)(6,"h3",15),u(7),c(),l(8,"div",16)(9,"span",17),u(10),c(),l(11,"a",18),u(12," Details "),c()()()()),n&2){let e=t.$implicit,i=b(2);h(2),A("alt",Zi(e.name))("src",i.getPrimaryImage(e),ae),h(5),y(" ",e.name," "),h(3),y("\\$",e.price),h(),A("routerLink",ii("/product/",e.slug))}}function Fu(n,t){if(n&1&&_e(0,Lu,13,7,"div",10,Nu),n&2){let e=b();ye(e.products)}}function Uu(n,t){n&1&&(l(0,"div",8)(1,"p"),u(2,"No products found."),c()())}var $n=class n{constructor(t){this.productService=t}products=[];loading=!0;debugMessage="Initializing...";ngOnInit(){this.debugMessage="Fetching products from Service...",this.productService.getProducts().subscribe({next:t=>{this.debugMessage=`Success! Loaded ${t.content.length} products.`,this.products=t.content,this.loading=!1},error:t=>{let e=t.message||JSON.stringify(t);this.debugMessage=`Error: ${e}`,console.error("Failed to load products",t),this.loading=!1,this.products=[{id:1,name:"Phra Somdej (Demo)",description:"Demo amulet",price:150,sku:"D1",slug:"demo-1",active:!0,images:[{imageUrl:"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400",isThumbnail:!0}]},{id:2,name:"Bronze Buddha (Demo)",description:"Demo statue",price:299,sku:"D2",slug:"demo-2",active:!0,images:[{imageUrl:"https://images.unsplash.com/photo-1562678564-9bd4b84081c7?q=80&w=400",isThumbnail:!0}]}]}})}getPrimaryImage(t){if(!t.images||t.images.length===0)return"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400";let e=t.images[0].imageUrl;return e.startsWith("/uploads")?`${e}`:e}static \u0275fac=function(e){return new(e||n)(I(Ie))};static \u0275cmp=V({type:n,selectors:[["app-shop"]],decls:14,vars:3,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-3xl","font-bold","text-gray-800","mb-8","border-l-4","border-yellow-500","pl-4"],["role","alert",1,"bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","p-4","mb-4"],[1,"font-bold"],[1,"mb-8","flex","justify-center","sm:justify-start"],["type","text","placeholder","Search amulets...",1,"w-full","sm:w-96","px-4","py-3","rounded-lg","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-yellow-500","shadow-sm","transition-all","bg-gray-50","focus:bg-white","text-gray-700","placeholder-gray-400"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-8"],[1,"col-span-full","py-12","flex","justify-center","text-gray-400"],[1,"col-span-full","text-center","py-12","text-gray-500"],[1,"animate-pulse"],[1,"group","bg-white","rounded-2xl","shadow-md","hover:shadow-2xl","transition-all","duration-300","overflow-hidden","transform","hover:-translate-y-1","border","border-gray-100","flex","flex-col","h-full"],[1,"relative","aspect-[4/5]","overflow-hidden","bg-gray-100"],[1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-500",3,"src","alt"],[1,"absolute","top-2","right-2","bg-yellow-500","text-white","text-xs","font-bold","px-2","py-1","rounded-full","shadow","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"p-5","flex","flex-col","flex-grow"],[1,"text-lg","font-bold","text-gray-800","mb-2","group-hover:text-yellow-600","transition-colors","line-clamp-2"],[1,"mt-auto","flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"text-xl","font-bold","text-gray-900"],[1,"bg-gray-900","text-white","px-4","py-2","rounded-lg","text-sm","font-medium","hover:bg-yellow-500","hover:text-white","transition-colors","duration-300","shadow-sm",3,"routerLink"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"h2",1),u(2,"Our Collection"),c(),l(3,"div",2)(4,"p",3),u(5,"System Status"),c(),l(6,"p"),u(7),c()(),l(8,"div",4),B(9,"input",5),c(),l(10,"div",6),P(11,Vu,3,0,"div",7)(12,Fu,2,0),P(13,Uu,3,0,"div",8),c()()),e&2&&(h(7),C(i.debugMessage),h(4),k(i.loading?11:12),h(2),k(!i.loading&&i.products.length===0?13:-1))},dependencies:[Y,W],encapsulation:2})};var ju=(n,t)=>t.id;function Bu(n,t){if(n&1){let e=z();l(0,"div",6)(1,"div",18),B(2,"img",19),c(),l(3,"div",20)(4,"div",21)(5,"div")(6,"h3",22),u(7),c(),l(8,"p",23),u(9),c()(),l(10,"span",24),u(11),c()(),l(12,"div",25)(13,"div",26)(14,"button",27),D("click",function(){let r=S(e).$implicit,o=b(2);return x(o.updateQuantity(r.product.id,-1))}),l(15,"span",28),u(16,"remove"),c()(),l(17,"span",29),u(18),c(),l(19,"button",27),D("click",function(){let r=S(e).$implicit,o=b(2);return x(o.updateQuantity(r.product.id,1))}),l(20,"span",28),u(21,"add"),c()()(),l(22,"button",30),D("click",function(){let r=S(e).$implicit,o=b(2);return x(o.removeItem(r.id))}),l(23,"span",31),u(24,"delete_outline"),c(),u(25),g(26,"translate"),c()()()()}if(n&2){let e=t.$implicit,i=b(2);h(2),A("src",i.getFormattedImageUrl(e.product.images==null||e.product.images[0]==null?null:e.product.images[0].imageUrl),ae)("alt",e.product.name),h(5),C(e.product.name),h(2),y("SKU: ",e.product.sku),h(2),y("\\$",e.product.price),h(7),C(e.quantity),h(7),y(" ",v(26,7,"CART.REMOVE")," ")}}function Hu(n,t){if(n&1&&(l(0,"div",3)(1,"div",5),_e(2,Bu,27,9,"div",6,ju),c(),l(4,"div",7)(5,"h2",8),u(6),g(7,"translate"),c(),l(8,"div",9)(9,"div",10)(10,"span"),u(11),g(12,"translate"),c(),l(13,"span",11),u(14),c()(),l(15,"div",10)(16,"span"),u(17),g(18,"translate"),c(),l(19,"span",11),u(20),c()(),l(21,"div",12)(22,"span",13),u(23),g(24,"translate"),c(),l(25,"span",14),u(26),c()()(),l(27,"a",15)(28,"span",16),u(29,"payment"),c(),u(30),g(31,"translate"),c(),l(32,"p",17),u(33),g(34,"translate"),c()()()),n&2){let e=b();h(2),ye(e.cart().items),h(4),y(" ",v(7,9,"CART.SUMMARY")),h(5),C(v(12,11,"CART.SUBTOTAL")),h(3),y("\\$",e.subtotal),h(3),C(v(18,13,"CART.SHIPPING")),h(3),y("\\$",e.shipping),h(3),C(v(24,15,"CART.TOTAL")),h(3),y("\\$",e.total),h(4),y(" ",v(31,17,"CART.CHECKOUT")," "),h(3),y(" ",v(34,19,"CART.SECURE")," ")}}function zu(n,t){n&1&&(l(0,"div",4)(1,"div",32)(2,"span",33),u(3,"shopping_bag"),c()(),l(4,"h2",34),u(5),g(6,"translate"),c(),l(7,"p",35),u(8," Explore our sacred gallery and find the perfect masterpiece to start your collection. "),c(),l(9,"a",36),u(10),g(11,"translate"),c()()),n&2&&(h(5),C(v(6,2,"CART.EMPTY")),h(5),y(" ",v(11,4,"CART.BACK_TO_HOME")," "))}var Gn=class n{cartService=f(Me);cart=this.cartService.cartSignal;getFormattedImageUrl(t){return t?t.startsWith("/uploads")?`${t}`:t:"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400"}updateQuantity(t,e){let i=this.cart().items.find(r=>r.product.id===t);i&&i.quantity+e>0&&this.cartService.addToCart(i.product,e)}removeItem(t){this.cartService.removeItem(t)}get subtotal(){return this.cartService.getCartTotal()}get shipping(){return this.subtotal>0?15:0}get total(){return this.subtotal+this.shipping}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-cart"]],decls:7,vars:4,consts:[[1,"min-h-screen","bg-gray-50","py-12"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-3xl","font-extrabold","text-gray-900","mb-8","border-l-4","border-yellow-500","pl-4","uppercase","tracking-wider"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-12","items-start"],[1,"bg-white","rounded-3xl","shadow-xl","border","border-gray-100","p-20","text-center","flex","flex-col","items-center"],[1,"lg:col-span-2","space-y-4"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-gray-100","p-4","flex","gap-6","transition-all","hover:shadow-md"],[1,"bg-white","rounded-3xl","shadow-xl","border","border-gray-100","p-8","lg:sticky","lg:top-8"],[1,"text-xl","font-black","text-gray-900","mb-6","uppercase","tracking-wider","pb-4","border-b","border-gray-100"],[1,"space-y-4","mb-8"],[1,"flex","justify-between","text-gray-500","font-medium"],[1,"text-gray-900"],[1,"pt-4","border-t","border-gray-100","flex","justify-between"],[1,"text-lg","font-bold","text-gray-900","uppercase"],[1,"text-2xl","font-black","text-yellow-600"],["routerLink","/checkout",1,"w-full","py-5","bg-gray-900","hover:bg-black","text-white","rounded-2xl","font-black","text-lg","transition-all","transform","hover:scale-[1.02]","shadow-xl","flex","items-center","justify-center","gap-3","mb-4"],[1,"material-icons"],[1,"text-center","text-[10px]","text-gray-400","font-bold","uppercase","tracking-widest"],[1,"w-32","h-40","flex-shrink-0","bg-gray-100","rounded-xl","overflow-hidden","shadow-inner"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"flex-grow","flex","flex-col","pt-2"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-xl","font-bold","text-gray-900","leading-tight"],[1,"text-sm","text-gray-400","font-medium","mt-1","uppercase","tracking-tighter"],[1,"text-xl","font-black","text-gray-900"],[1,"mt-auto","flex","items-center","justify-between","pb-2"],[1,"flex","items-center","bg-gray-50","rounded-lg","p-1","border","border-gray-200","shadow-sm"],[1,"w-8","h-8","flex","items-center","justify-center","hover:bg-white","hover:text-yellow-600","rounded-md","transition-all","text-gray-500",3,"click"],[1,"material-icons","text-sm","font-bold"],[1,"w-10","text-center","font-bold","text-gray-800"],[1,"text-red-400","hover:text-red-600","flex","items-center","gap-1","text-xs","font-black","uppercase","tracking-widest","transition-colors","group",3,"click"],[1,"material-icons","text-base","group-hover:rotate-12","transition-transform"],[1,"w-32","h-32","bg-yellow-50","rounded-full","flex","items-center","justify-center","mb-6"],[1,"material-icons","text-6xl","text-yellow-500","animate-pulse"],[1,"text-3xl","font-extrabold","text-gray-900","mb-2"],[1,"text-gray-500","font-medium","mb-10","max-w-sm"],["routerLink","/",1,"px-12","py-4","bg-yellow-500","hover:bg-yellow-600","text-white","rounded-full","font-black","text-lg","transition-all","shadow-lg","transform","hover:scale-105"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3),g(4,"translate"),c(),P(5,Hu,35,21,"div",3)(6,zu,12,6,"div",4),c()()),e&2&&(h(3),y(" ",v(4,2,"CART.TITLE")," "),h(2),k(i.cart().items.length>0?5:6))},dependencies:[Y,W,ce],encapsulation:2})};function $u(n,t){if(n&1&&(l(0,"p",8),u(1),c()),n&2){let e=b();h(),C(e.errorMessage)}}var Wn=class n{constructor(t){this.authService=t}credentials={email:"admin@example.com",password:"password"};errorMessage="";onSubmit(){this.authService.login(this.credentials).subscribe({next:()=>{},error:t=>{console.error("Login failed",t),this.errorMessage="Invalid email or password"}})}static \u0275fac=function(e){return new(e||n)(I(le))};static \u0275cmp=V({type:n,selectors:[["app-login"]],decls:26,vars:22,consts:[["loginForm","ngForm"],[1,"container",2,"max-width","400px","margin-top","4rem"],[3,"ngSubmit"],[2,"margin-bottom","1rem"],["for","email",2,"display","block","margin-bottom","0.5rem"],["type","email","id","email","name","email","required","","autocomplete","username",2,"width","100%","padding","0.5rem",3,"ngModelChange","ngModel"],["for","password",2,"display","block","margin-bottom","0.5rem"],["type","password","id","password","name","password","required","","autocomplete","current-password",2,"width","100%","padding","0.5rem",3,"ngModelChange","ngModel"],[2,"color","red","margin-bottom","1rem"],["type","submit",1,"btn","btn-primary",2,"width","100%",3,"disabled"],[2,"margin-top","1rem","text-align","center"],["routerLink","/register",2,"color","var(--primary-color)"]],template:function(e,i){if(e&1){let r=z();l(0,"div",1)(1,"h2"),u(2),g(3,"translate"),c(),l(4,"form",2,0),D("ngSubmit",function(){return S(r),x(i.onSubmit())}),l(6,"div",3)(7,"label",4),u(8),g(9,"translate"),c(),l(10,"input",5),ee("ngModelChange",function(s){return S(r),J(i.credentials.email,s)||(i.credentials.email=s),x(s)}),c()(),l(11,"div",3)(12,"label",6),u(13),g(14,"translate"),c(),l(15,"input",7),ee("ngModelChange",function(s){return S(r),J(i.credentials.password,s)||(i.credentials.password=s),x(s)}),c()(),P(16,$u,2,1,"p",8),l(17,"button",9),u(18),g(19,"translate"),c()(),l(20,"p",10),u(21),g(22,"translate"),l(23,"a",11),u(24),g(25,"translate"),c()()()}if(e&2){let r=_t(5);h(2),C(v(3,10,"AUTH.LOGIN")),h(6),C(v(9,12,"AUTH.EMAIL")),h(2),X("ngModel",i.credentials.email),h(3),C(v(14,14,"AUTH.PASSWORD")),h(2),X("ngModel",i.credentials.password),h(),k(i.errorMessage?16:-1),h(),A("disabled",!r.form.valid),h(),y(" ",v(19,16,"AUTH.SIGN_IN")," "),h(3),y(" ",v(22,18,"AUTH.NO_ACCOUNT")," "),h(3),C(v(25,20,"AUTH.REGISTER_HERE"))}},dependencies:[Y,Ze,ft,Re,qe,pt,nt,je,it,W,ce],encapsulation:2})};function Gu(n,t){if(n&1&&(l(0,"p",12),u(1),c()),n&2){let e=b();h(),C(e.errorMessage)}}var qn=class n{constructor(t){this.authService=t}formData={firstName:"",lastName:"",email:"",password:""};errorMessage="";onSubmit(){this.authService.register(this.formData).subscribe({next:()=>{},error:t=>{console.error("Registration failed",t),t.error&&typeof t.error=="string"?this.errorMessage=t.error:this.errorMessage="Registration failed. Please try again."}})}static \u0275fac=function(e){return new(e||n)(I(le))};static \u0275cmp=V({type:n,selectors:[["app-register"]],decls:36,vars:30,consts:[["registerForm","ngForm"],[1,"container",2,"max-width","400px","margin-top","4rem"],[3,"ngSubmit"],[2,"margin-bottom","1rem"],["for","firstName",2,"display","block","margin-bottom","0.5rem"],["type","text","id","firstName","name","firstName","required","","autocomplete","given-name",2,"width","100%","padding","0.5rem",3,"ngModelChange","ngModel"],["for","lastName",2,"display","block","margin-bottom","0.5rem"],["type","text","id","lastName","name","lastName","required","","autocomplete","family-name",2,"width","100%","padding","0.5rem",3,"ngModelChange","ngModel"],["for","email",2,"display","block","margin-bottom","0.5rem"],["type","email","id","email","name","email","required","","autocomplete","email",2,"width","100%","padding","0.5rem",3,"ngModelChange","ngModel"],["for","password",2,"display","block","margin-bottom","0.5rem"],["type","password","id","password","name","password","required","","minlength","6","autocomplete","new-password",2,"width","100%","padding","0.5rem",3,"ngModelChange","ngModel"],[2,"color","red","margin-bottom","1rem"],["type","submit",1,"btn","btn-primary",2,"width","100%",3,"disabled"],[2,"margin-top","1rem","text-align","center"],["routerLink","/login",2,"color","var(--primary-color)"]],template:function(e,i){if(e&1){let r=z();l(0,"div",1)(1,"h2"),u(2),g(3,"translate"),c(),l(4,"form",2,0),D("ngSubmit",function(){return S(r),x(i.onSubmit())}),l(6,"div",3)(7,"label",4),u(8),g(9,"translate"),c(),l(10,"input",5),ee("ngModelChange",function(s){return S(r),J(i.formData.firstName,s)||(i.formData.firstName=s),x(s)}),c()(),l(11,"div",3)(12,"label",6),u(13),g(14,"translate"),c(),l(15,"input",7),ee("ngModelChange",function(s){return S(r),J(i.formData.lastName,s)||(i.formData.lastName=s),x(s)}),c()(),l(16,"div",3)(17,"label",8),u(18),g(19,"translate"),c(),l(20,"input",9),ee("ngModelChange",function(s){return S(r),J(i.formData.email,s)||(i.formData.email=s),x(s)}),c()(),l(21,"div",3)(22,"label",10),u(23),g(24,"translate"),c(),l(25,"input",11),ee("ngModelChange",function(s){return S(r),J(i.formData.password,s)||(i.formData.password=s),x(s)}),c()(),P(26,Gu,2,1,"p",12),l(27,"button",13),u(28),g(29,"translate"),c()(),l(30,"p",14),u(31),g(32,"translate"),l(33,"a",15),u(34),g(35,"translate"),c()()()}if(e&2){let r=_t(5);h(2),C(v(3,14,"AUTH.REGISTER")),h(6),C(v(9,16,"AUTH.FIRST_NAME")),h(2),X("ngModel",i.formData.firstName),h(3),C(v(14,18,"AUTH.LAST_NAME")),h(2),X("ngModel",i.formData.lastName),h(3),C(v(19,20,"AUTH.EMAIL")),h(2),X("ngModel",i.formData.email),h(3),C(v(24,22,"AUTH.PASSWORD")),h(2),X("ngModel",i.formData.password),h(),k(i.errorMessage?26:-1),h(),A("disabled",!r.form.valid),h(),C(v(29,24,"AUTH.SIGN_UP")),h(3),y(" ",v(32,26,"AUTH.ALREADY_HAVE")," "),h(3),C(v(35,28,"AUTH.LOGIN_HERE"))}},dependencies:[Y,Ze,ft,Re,qe,pt,nt,uo,je,it,W,ce],encapsulation:2})};var Zn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-dashboard"]],decls:25,vars:0,consts:[[1,"admin-container",2,"padding","2rem"],[1,"stats-grid",2,"display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","margin-top","2rem"],[1,"card",2,"padding","1.5rem","background","white","border-radius","8px","box-shadow","0 2px 4px rgba(0,0,0,0.1)"],[2,"font-size","2rem","font-weight","bold","color","var(--primary-color)"],["routerLink","/admin/products",1,"btn","btn-primary",2,"margin-top","1rem"],["routerLink","/admin/users",1,"btn","btn-primary",2,"margin-top","1rem"],["disabled","",1,"btn",2,"margin-top","1rem","background","#ccc","cursor","not-allowed"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"h2"),u(2,"Admin Dashboard"),c(),l(3,"div",1)(4,"div",2)(5,"h3"),u(6,"Products"),c(),l(7,"p",3),u(8,"Manage"),c(),l(9,"a",4),u(10,"View All"),c()(),l(11,"div",2)(12,"h3"),u(13,"Users"),c(),l(14,"p",3),u(15,"Manage"),c(),l(16,"a",5),u(17,"View All"),c()(),l(18,"div",2)(19,"h3"),u(20,"Orders"),c(),l(21,"p",3),u(22,"Coming Soon"),c(),l(23,"button",6),u(24,"View All"),c()()()())},dependencies:[W],encapsulation:2})};var Wu=n=>["/admin/products/edit",n],qu=(n,t)=>t.id;function Zu(n,t){n&1&&(l(0,"tr")(1,"td",14)(2,"div",15),B(3,"div",16),u(4," Loading products... "),c()()())}function Ku(n,t){if(n&1){let e=z();l(0,"tr",17)(1,"td",7),u(2),c(),l(3,"td",7),B(4,"img",18),c(),l(5,"td",19),u(6),c(),l(7,"td",20),u(8),c(),l(9,"td",7),u(10),c(),l(11,"td",7),u(12),c(),l(13,"td",7)(14,"div",21)(15,"a",22),u(16,"Edit"),c(),l(17,"button",23),D("click",function(){let r=S(e).$implicit,o=b(2);return x(o.deleteProduct(r.id))}),u(18,"Delete"),c()()()()}if(n&2){let e=t.$implicit,i=b(2);h(2),C(e.id),h(2),A("src",i.getPrimaryImage(e),ae),h(2),C(e.name),h(2),C(e.sku),h(2),y("\\$",e.price),h(2),C(e.stockLevel||0),h(3),A("routerLink",ni(7,Wu,e.id))}}function Yu(n,t){n&1&&(l(0,"tr")(1,"td",24),u(2," No products found in the database. "),c()())}function Qu(n,t){if(n&1&&(_e(0,Ku,19,9,"tr",17,qu),P(2,Yu,3,0,"tr")),n&2){let e=b();ye(e.products),h(2),k(e.products.length===0?2:-1)}}var Kn=class n{constructor(t,e,i){this.productService=t;this.authService=e;this.cdr=i}products=[];loading=!1;ngOnInit(){console.log("ProductListComponent: ngOnInit. Auth State:",this.authService.isAuthenticated()),setTimeout(()=>{this.loadProducts()},300)}loadProducts(){console.log("ProductListComponent: Loading products..."),this.loading=!0,this.cdr.detectChanges(),this.productService.getProducts(0,100).subscribe({next:t=>{console.log("ProductListComponent: Received:",t),t&&t.content?this.products=t.content:this.products=[],this.loading=!1,this.cdr.detectChanges()},error:t=>{console.error("ProductListComponent: Error:",t),this.products=[],this.loading=!1,this.cdr.detectChanges()}})}deleteProduct(t){confirm("Are you sure you want to delete this product?")&&this.productService.deleteProduct(t).subscribe(()=>{this.loadProducts()})}getPrimaryImage(t){if(!t.images||t.images.length===0)return"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400";let e=t.images.find(r=>r.isThumbnail),i=e?e.imageUrl:t.images[0].imageUrl;return i.startsWith("/uploads")?`${i}`:i}static \u0275fac=function(e){return new(e||n)(I(Ie),I(le),I(ne))};static \u0275cmp=V({type:n,selectors:[["app-product-list"]],decls:45,vars:5,consts:[[1,"admin-container",2,"padding","2rem","min-height","100vh","background-color","#f8f9fa","padding-bottom","60px"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","2rem"],[2,"color","#333","margin","0"],["routerLink","/admin/products/new",1,"btn","btn-primary",2,"padding","0.5rem 1.5rem","background","#d4af37","border","none","color","white","border-radius","4px","text-decoration","none"],[1,"table-responsive",2,"background","white","border-radius","8px","box-shadow","0 2px 10px rgba(0,0,0,0.1)","overflow","hidden"],[2,"width","100%","border-collapse","collapse","color","black"],[2,"background","#8b0000","color","white","text-align","left"],[2,"padding","1rem"],[2,"position","fixed","bottom","0","left","0","right","0","background","#333","color","#0f0","padding","8px 20px","font-family","monospace","font-size","11px","display","flex","flex-wrap","wrap","gap","20px","z-index","9999","border-top","2px solid #555","align-items","center"],[2,"font-weight","bold","border-right","1px solid #555","padding-right","15px"],[2,"color","white"],[2,"display","flex","gap","10px","margin-left","auto"],[2,"background","#218838","color","white","border","none","cursor","pointer","padding","2px 10px","border-radius","3px","font-size","10px",3,"click"],[2,"background","#c82333","color","white","border","none","cursor","pointer","padding","2px 10px","border-radius","3px","font-size","10px",3,"click"],["colspan","7",2,"padding","3rem","text-align","center","color","#666"],[2,"display","flex","flex-direction","column","align-items","center","gap","10px"],[2,"width","30px","height","30px","border","3px solid #f3f3f3","border-top","3px solid #d4af37","border-radius","50%","animation","spin 1s linear infinite"],[2,"border-bottom","1px solid #eee"],[2,"width","50px","height","50px","object-fit","cover","border-radius","4px","border","1px solid #eee",3,"src"],[2,"padding","1rem","font-weight","500"],[2,"padding","1rem","color","#666"],[2,"display","flex","gap","15px"],[2,"color","#d4af37","text-decoration","none","font-weight","500",3,"routerLink"],[2,"color","#dc3545","border","none","background","none","cursor","pointer","padding","0","font-weight","500",3,"click"],["colspan","7",2,"padding","3rem","text-align","center","color","#999"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"h2",2),u(3,"Product Management"),c(),l(4,"a",3),u(5,"Add New Product"),c()(),l(6,"div",4)(7,"table",5)(8,"thead")(9,"tr",6)(10,"th",7),u(11,"ID"),c(),l(12,"th",7),u(13,"Image"),c(),l(14,"th",7),u(15,"Name"),c(),l(16,"th",7),u(17,"SKU"),c(),l(18,"th",7),u(19,"Price"),c(),l(20,"th",7),u(21,"Stock"),c(),l(22,"th",7),u(23,"Actions"),c()()(),l(24,"tbody"),P(25,Zu,5,0,"tr")(26,Qu,3,1),c()()(),l(27,"div",8)(28,"div",9),u(29,"DEBUG TOOLS:"),c(),l(30,"span"),u(31,"Products: "),l(32,"strong",10),u(33),c()(),l(34,"span"),u(35),c(),l(36,"span"),u(37),c(),l(38,"span"),u(39),c(),l(40,"div",11)(41,"button",12),D("click",function(){return i.loadProducts()}),u(42,"FORCE RELOAD"),c(),l(43,"button",13),D("click",function(){return i.authService.logout()}),u(44,"RESET SESSION"),c()()()()),e&2&&(h(25),k(i.loading?25:26),h(8),C(i.products.length),h(2),y("Auth: ",i.authService.isAuthenticated()?"\u2705":"\u274C"),h(2),y("Admin: ",i.authService.isAdmin()?"\u2705":"\u274C"),h(2),y("Token: ",i.authService.getToken()?"PRESENT":"MISSING"))},dependencies:[Y,W],styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var fo;function Xu(){if(fo==null){let n=typeof document<"u"?document.head:null;fo=!!(n&&(n.createShadowRoot||n.attachShadow))}return fo}function Yn(n){if(Xu()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ki(n){return n.composedPath?n.composedPath()[0]:n.target}function il(n){return n.buttons===0||n.detail===0}function nl(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function Qn(n,t=0){return Ju(n)?Number(n):arguments.length===2?t:0}function Ju(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Be(n){return n instanceof xe?n.nativeElement:n}var Xn=new WeakMap,rl=(()=>{class n{_appRef;_injector=f(Oe);_environmentInjector=f(st);load(e){let i=this._appRef=this._appRef||this._injector.get(Tt),r=Xn.get(i);r||(r={loaders:new Set,refs:[]},Xn.set(i,r),i.onDestroy(()=>{Xn.get(i)?.refs.forEach(o=>o.destroy()),Xn.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(ds(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mo;try{mo=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mo=!1}var go=(()=>{class n{_platformId=f(It);isBrowser=this._platformId?ws(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||mo)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eh=new O("cdk-dir-doc",{providedIn:"root",factory:()=>f(oe)}),th=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ih(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?th.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var vo=(()=>{class n{get value(){return this.valueSignal()}valueSignal=F("ltr");change=new G;constructor(){let e=f(eh,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(ih(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rh=20,ol=(()=>{class n{_ngZone=f(ve);_platform=f(go);_renderer=f(at).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new T;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=rh){return this._platform.isBrowser?new mt(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(hr(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):M()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(He(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=Be(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oh=20,sl=(()=>{class n{_platform=f(go);_listeners;_viewportSize;_change=new T;_document=f(oe);constructor(){let e=f(ve),i=f(at).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=oh){return e>0?this._change.pipe(hr(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var al=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ve({type:n});static \u0275inj=Pe({})}return n})();var _o={},Jn=class n{_appId=f(Yt);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,e=!1){return this._appId!=="ng"&&(t+=this._appId),_o.hasOwnProperty(t)||(_o[t]=0),`${t}${e?n._infix+"-":""}${_o[t]++}`}static \u0275fac=function(e){return new(e||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function ll(n){return Array.isArray(n)?n:[n]}function Co(n){let t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return i==="canvas"?ul(n,t):(i==="input"||i==="select"||i==="textarea")&&dl(n,t),cl("canvas",n,t,ul),cl("input, textarea, select",n,t,dl),t}function cl(n,t,e,i){let r=t.querySelectorAll(n);if(r.length){let o=e.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}var sh=0;function dl(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${sh++}`)}function ul(n,t){let e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function Ro(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function wo(n,t,e){let{top:i,bottom:r,left:o,right:s}=n;return e>=i&&e<=r&&t>=o&&t<=s}function ah(n,t){let e=t.left<n.left,i=t.left+t.width>n.right,r=t.top<n.top,o=t.top+t.height>n.bottom;return e||i||r||o}function Vi(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function hl(n,t,e,i){let{top:r,right:o,bottom:s,left:a,width:d,height:p}=n,m=d*t,w=p*t;return i>r-w&&i<s+w&&e>a-m&&e<o+m}var er=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ro(e)})})}handleScroll(t){let e=ki(t),i=this.positions.get(e);if(!i)return null;let r=i.scrollPosition,o,s;if(e===this._document){let p=this.getViewportScrollPosition();o=p.top,s=p.left}else o=e.scrollTop,s=e.scrollLeft;let a=r.top-o,d=r.left-s;return this.positions.forEach((p,m)=>{p.clientRect&&e!==m&&e.contains(m)&&Vi(p.clientRect,a,d)}),r.top=o,r.left=s,{top:a,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Dl(n,t){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function Io(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Wt(n,t){let e=t?"":"none";Io(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function pl(n,t,e){Io(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function tr(n,t){return t&&t!="none"?n+" "+t:n}function fl(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Li(t.left,t.top)}function Li(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function ml(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function lh(n){let t=getComputedStyle(n),e=yo(t,"transition-property"),i=e.find(a=>a==="transform"||a==="all");if(!i)return 0;let r=e.indexOf(i),o=yo(t,"transition-duration"),s=yo(t,"transition-delay");return ml(o[r])+ml(s[r])}function yo(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}var ch=new Set(["position"]),So=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,i,r,o,s,a,d,p,m){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=d,this._zIndex=p,this._renderer=m}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),gl(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return lh(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,i=t?t.template:null,r;if(i&&t){let o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),r=Dl(s,this._document),this._previewEmbeddedView=s,t.matchSize?fl(r,o):r.style.transform=Li(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Co(this._rootElement),fl(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Io(r.style,{"pointer-events":"none",margin:gl(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ch),Wt(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function gl(n){return"showPopover"in n}var dh={passive:!0},vl={passive:!1},uh={passive:!1,capture:!0},hh=800,_l="cdk-drag-placeholder",yl=new Set(["position"]),xo=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=F(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new T;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Qe.EMPTY;_pointerUpSubscription=Qe.EMPTY;_scrollSubscription=Qe.EMPTY;_resizeSubscription=Qe.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Wt(e,t)))}_disabled=!1;beforeStarted=new T;started=new T;released=new T;ended=new T;entered=new T;exited=new T;dropped=new T;moved=this._moveEvents;data;constrainPosition;constructor(t,e,i,r,o,s,a){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new er(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Be(i)),this._handles.forEach(i=>Wt(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=Be(t);if(e!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"mousedown",this._pointerDown,vl),i.listen(e,"touchstart",this._pointerDown,dh),i.listen(e,"dragstart",this._nativeDragStart,vl)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Be(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&ah(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let t=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),i=0,r=0;e.left<t.left?i=t.left-e.left:e.right>t.right&&(i=t.right-e.right),e.top<t.top?r=t.top-e.top:e.bottom>t.bottom&&(r=t.bottom-e.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,a=o+i,d=s+r;this._rootElement.style.transform=Li(a,d),this._activeTransform={x:a,y:d},this._passiveTransform={x:a,y:d}}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Wt(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Wt(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),d=this._dropContainer;if(!a){this._endDragSequence(t);return}(!d||!d.isDragging()&&!d.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Oi(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",ph,uh)}),i){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new So(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),pl(r,!1,yl),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),r=Oi(e),o=!r&&e.button!==0,s=this._rootElement,a=ki(e),d=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+hh>Date.now(),p=r?nl(e):il(e);if(a&&a.draggable&&e.type==="mousedown"&&e.preventDefault(),i||o||d||p)return;if(this._handles.length){let N=s.style;this._rootElementTapHighlight=N.webkitTapHighlightColor||"",N.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>this._updateOnScroll(N)),this._boundaryElement&&(this._boundaryRect=Ro(this._boundaryElement));let m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let w=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:w.x,y:w.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){pl(this._rootElement,!0,yl),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,a),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=a=>{(!a||this._preview&&ki(a)===this._preview.element&&a.propertyName==="transform")&&(s(),i(),clearTimeout(o))},o=setTimeout(r,e*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=Dl(this._placeholderRef,this._document)):i=Co(this._rootElement),i.style.pointerEvents="none",i.classList.add(_l),i}_getPointerPositionInElement(t,e,i){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=Oi(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),d=s.pageX-o.left-a.left,p=s.pageY-o.top-a.top;return{x:o.left-t.left+d,y:o.top-t.top+p}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),i=Oi(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:d,height:p}=this._getPreviewRect(),m=a.top+s,w=a.bottom-(p-s),N=a.left+o,te=a.right-(d-o);i=bl(i,N,te),r=bl(r,m,w)}return{x:i,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Wt(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){let i=1/this.scale,r=Li(t*i,e*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=tr(r,this._initialTransform)}_applyPreviewTransform(t,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=Li(t,e);this._preview.setTransform(tr(r,i))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,d=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>i.height?(a>0&&(e+=a),d>0&&(e-=d)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:Oi(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let i=ki(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Vi(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Yn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let i=this._previewContainer||"global";if(i==="parent")return t;if(i==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Be(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}_conditionallyInsertAnchor(t,e,i){if(t===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let r=this._anchor??=Co(this._placeholder);r.classList.remove(_l),r.classList.add("cdk-drag-anchor"),r.style.transform="",i?i.before(r):Be(e.element).appendChild(r)}}};function bl(n,t,e){return Math.max(t,Math.min(e,n))}function Oi(n){return n.type[0]==="t"}function ph(n){n.preventDefault()}function nr(n,t,e){let i=Cl(t,n.length-1),r=Cl(e,n.length-1);if(i===r)return;let o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function Cl(n,t){return Math.max(0,Math.min(t,n))}var ir=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,i,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,i,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",d=o.findIndex(Q=>Q.drag===t),p=o[s],m=o[d].clientRect,w=p.clientRect,N=d>s?1:-1,te=this._getItemOffsetPx(m,w,N),Ke=this._getSiblingOffsetPx(d,o,N),Ye=o.slice();return nr(o,d,s),o.forEach((Q,Et)=>{if(Ye[Et]===Q)return;let qt=Q.drag===t,Zt=qt?te:Ke,To=qt?t.getPlaceholderElement():Q.drag.getRootElement();Q.offset+=Zt;let Ao=Math.round(Q.offset*(1/Q.drag.scale));a?(To.style.transform=tr(`translate3d(${Ao}px, 0, 0)`,Q.initialTransform),Vi(Q.clientRect,0,Zt)):(To.style.transform=tr(`translate3d(0, ${Ao}px, 0)`,Q.initialTransform),Vi(Q.clientRect,Zt,0))}),this._previousSwap.overlaps=wo(w,e,i),this._previousSwap.drag=p.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:d,currentIndex:s}}enter(t,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,s=this._activeDraggables,a=s.indexOf(t),d=t.getPlaceholderElement(),p=s[o];if(p===t&&(p=s[o+1]),!p&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(p=s[0]),a>-1&&s.splice(a,1),p&&!this._dragDropRegistry.isDragging(p)){let m=p.getRootElement();m.parentElement.insertBefore(d,m),s.splice(o,0,t)}else this._element.appendChild(d),s.push(t);d.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return this._getVisualItemPositions().findIndex(e=>e.drag===t)}getItemAtIndex(t){return this._getVisualItemPositions()[t]?.drag||null}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Vi(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Ro(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return i===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=e[t].clientRect,s=e[t+i*-1],a=o[r?"width":"height"]*i;if(s){let d=r?"left":"top",p=r?"right":"bottom";i===-1?a-=s.clientRect[d]-o[p]:a+=o[d]-s.clientRect[p]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let s=i[i.length-1].clientRect;return r?t>=s.right:e>=s.bottom}else{let s=i[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:d})=>{if(a===t)return!1;if(r){let p=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return o?e>=Math.floor(d.left)&&e<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},Do=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,i,r){let o=this._getItemIndexFromPointerPosition(t,e,i),s=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let d=this.getItemIndex(t),p=t.getPlaceholderElement(),m=a.getRootElement();o>d?m.after(p):m.before(p),nr(this._activeItems,d,o);let w=this._getRootNode().elementFromPoint(e,i);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=m===w||m.contains(w),{previousIndex:d,currentIndex:o}}enter(t,e,i,r){let o=this._activeItems.indexOf(t);o>-1&&this._activeItems.splice(o,1);let s=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r;s===-1&&(s=this._getClosestItemIndexToPointer(t,e,i));let a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,t),a.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}getItemAtIndex(t){return this._activeItems[t]||null}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Yn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==t){let{x:d,y:p}=a.getRootElement().getBoundingClientRect(),m=Math.hypot(e-d,i-p);m<r&&(r=m,o=s)}}return o}},wl=.05,El=.05,Ae=(function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n})(Ae||{}),ue=(function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n})(ue||{}),Eo=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new T;entered=new T;exited=new T;dropped=new T;sorted=new T;receivingStarted=new T;receivingStopped=new T;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Qe.EMPTY;_verticalScrollDirection=Ae.NONE;_horizontalScrollDirection=ue.NONE;_scrollNode;_stopScrollTimers=new T;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let s=this.element=Be(t);this._document=i,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new er(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,s,a,d={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:d})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof ir&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new Do(this._document,this._dragDropRegistry);else{let e=new ir(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=Be(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}getItemAtIndex(t){return this._isDragging?this._sortStrategy.getItemAtIndex(t):this._draggables[t]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!hl(this._domRect,wl,e,i))return;let o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=Ae.NONE,o=ue.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||hl(s.clientRect,wl,t,e)&&([r,o]=fh(a,s.clientRect,this._direction,t,e),(r||o)&&(i=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),d={width:s,height:a,top:0,right:s,bottom:a,left:0};r=Rl(d,e),o=Il(d,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Uo(0,dr).pipe(Se(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===Ae.UP?t.scrollBy(0,-e):this._verticalScrollDirection===Ae.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===ue.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===ue.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&wo(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!wo(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Yn(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function Rl(n,t){let{top:e,bottom:i,height:r}=n,o=r*El;return t>=e-o&&t<=e+o?Ae.UP:t>=i-o&&t<=i+o?Ae.DOWN:Ae.NONE}function Il(n,t){let{left:e,right:i,width:r}=n,o=r*El;return t>=e-o&&t<=e+o?ue.LEFT:t>=i-o&&t<=i+o?ue.RIGHT:ue.NONE}function fh(n,t,e,i,r){let o=Rl(t,r),s=Il(t,i),a=Ae.NONE,d=ue.NONE;if(o){let p=n.scrollTop;o===Ae.UP?p>0&&(a=Ae.UP):n.scrollHeight-p>n.clientHeight&&(a=Ae.DOWN)}if(s){let p=n.scrollLeft;e==="rtl"?s===ue.RIGHT?p<0&&(d=ue.RIGHT):n.scrollWidth+p>n.clientWidth&&(d=ue.LEFT):s===ue.LEFT?p>0&&(d=ue.LEFT):n.scrollWidth-p>n.clientWidth&&(d=ue.RIGHT)}return[a,d]}var Ni={capture:!0},bo={passive:!1,capture:!0},mh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=V({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),Ml=(()=>{class n{_ngZone=f(ve);_document=f(oe);_styleLoader=f(rl);_renderer=f(at).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new T;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=F([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new T;pointerUp=new T;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,bo)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(mh),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),Ni],["selectstart",this._preventDefaultWhileDragging,bo]];r?s.push(["touchend",o,Ni],["touchcancel",o,Ni]):s.push(["mouseup",o,Ni]),r||s.push(["mousemove",a=>this.pointerMove.next(a),bo]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,d,p])=>this._renderer.listen(this._document,a,d,p))})}}stopDragging(e){this._activeDragInstances.update(i=>{let r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this._scroll];return e&&e!==this._document&&i.push(new mt(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(e,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},Ni);return()=>{o()}}))),Bi(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gh={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Mo=(()=>{class n{_document=f(oe);_ngZone=f(ve);_viewportRuler=f(sl);_dragDropRegistry=f(Ml);_renderer=f(at).createRenderer(null,null);constructor(){}createDrag(e,i=gh){return new xo(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Eo(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sl=new O("CDK_DRAG_PARENT");var vh=new O("CdkDragHandle");var Tl=new O("CDK_DRAG_CONFIG"),Al=new O("CdkDropList"),Pl=(()=>{class n{element=f(xe);dropContainer=f(Al,{optional:!0,skipSelf:!0});_ngZone=f(ve);_viewContainerRef=f(Jt);_dir=f(vo,{optional:!0});_changeDetectorRef=f(ne);_selfHandle=f(vh,{optional:!0,self:!0});_parentDrag=f(Sl,{optional:!0,skipSelf:!0});_dragDropRegistry=f(Ml);_destroyed=new T;_handles=new he([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new G;released=new G;ended=new G;entered=new G;exited=new G;dropped=new G;moved=new mt(e=>{let i=this._dragRef.moved.pipe(K(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=f(Oe);constructor(){let e=this.dropContainer,i=f(Tl,{optional:!0}),r=f(Mo);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(Se(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Xt(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),r=i.indexOf(e);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Be(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:Qn(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(rt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){e.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:d,rootElementSelector:p,previewContainer:m}=e;this.disabled=d??!1,this.dragStartDelay=r||0,this.lockAxis=i||null,o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),p&&(this.rootElementSelector=p),m&&(this.previewContainer=m)}_setupHandlesListener(){this._handles.pipe(ie(e=>{let i=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),pe(e=>Bi(...e.map(i=>i._stateChanges.pipe(Rt(i))))),Se(this._destroyed)).subscribe(e=>{let i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=q({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&Z("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",fe],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",cs]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ee([{provide:Sl,useExisting:n}]),Ne]})}return n})(),xl=new O("CdkDropListGroup");var kl=(()=>{class n{element=f(xe);_changeDetectorRef=f(ne);_scrollDispatcher=f(ol);_dir=f(vo,{optional:!0});_group=f(xl,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new T;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=f(Jn).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new G;entered=new G;exited=new G;sorted=new G;_unsortedItems=new Set;constructor(){let e=f(Mo),i=f(Tl,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let i=this._latestSortedRefs.indexOf(e._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Rt(this._dir.value),Se(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{let i=ll(this.connectedTo).map(r=>{if(typeof r=="string"){let o=n._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{i.indexOf(r)===-1&&i.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Qn(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Bi(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",this.lockAxis=i||null}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=q({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){i&2&&(vt("id",r.id),Z("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",fe],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",fe],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",fe],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",fe]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ee([{provide:xl,useValue:void 0},{provide:Al,useExisting:n}])]})}return n})();var Ol=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ve({type:n});static \u0275inj=Pe({providers:[Mo],imports:[al]})}return n})();function yh(n,t){n&1&&(l(0,"span",26),u(1,"Uploading..."),c())}function bh(n,t){n&1&&(l(0,"div",36),u(1," MAIN "),c())}function Ch(n,t){if(n&1){let e=z();l(0,"button",37),D("click",function(){S(e);let r=b().index,o=b();return x(o.setThumbnail(r))}),u(1," Set Main "),c()}}function wh(n,t){if(n&1){let e=z();l(0,"div",27),Mt(1,bh,2,0,"div",28),B(2,"img",29),l(3,"div",30)(4,"div",31)(5,"button",32),D("click",function(){let r=S(e).index,o=b();return x(o.removeImage(r))}),l(6,"span",33),u(7,"close"),c()()(),l(8,"div",34),Mt(9,Ch,2,0,"button",35),c()()()}if(n&2){let e=t.$implicit,i=t.index,r=b();Z("border-blue-500",i===0)("border-transparent",i!==0),h(),A("ngIf",i===0),h(),A("src",r.getPreviewUrl(e.imageUrl),ae),h(7),A("ngIf",i!==0)}}function Sh(n,t){n&1&&(l(0,"p",38),u(1,"No images uploaded yet."),c())}var Fi=class n{constructor(t,e,i,r,o){this.productService=t;this.route=e;this.router=i;this.cdr=r;this.ngZone=o}product={id:0,name:"",description:"",price:0,sku:"",slug:"",active:!0,images:[],stockLevel:0};isEditMode=!1;activeUploads=0;uploading=!1;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");console.log("ProductFormComponent: Init. ID param:",t),t&&(this.isEditMode=!0,this.productService.getProductById(+t).subscribe({next:e=>{this.ngZone.run(()=>{console.log("ProductFormComponent: Loaded product:",e),this.product=e,this.product.images||(this.product.images=[]),this.cdr.detectChanges()})},error:e=>{this.ngZone.run(()=>{console.error("ProductFormComponent: Failed to load product",e),alert("Error loading product details. Please check console.")})}}))}onFileSelected(t){let e=t.target.files;e&&e.length>0&&(this.activeUploads+=e.length,this.uploading=!0,this.cdr.detectChanges(),Array.from(e).forEach(i=>{this.productService.uploadImage(i).subscribe({next:r=>{console.log("Uploaded file path:",r);let o={imageUrl:r,isThumbnail:(this.product.images?.length||0)===0};this.product.images||(this.product.images=[]),this.product.images.push(o),this.activeUploads--,this.activeUploads===0&&(this.uploading=!1),this.cdr.detectChanges()},error:r=>{console.error("Upload failed",r),alert("Failed to upload image: "+i.name),this.activeUploads--,this.activeUploads===0&&(this.uploading=!1),this.cdr.detectChanges()}})}),t.target.value="")}removeImage(t){this.product.images&&(this.product.images.splice(t,1),this.product.images.length>0&&!this.product.images.some(e=>e.isThumbnail)&&(this.product.images[0].isThumbnail=!0))}setThumbnail(t){if(!this.product.images)return;let e=this.product.images.splice(t,1)[0];this.product.images.unshift(e),this.product.images.forEach((i,r)=>{i.isThumbnail=r===0})}getPreviewUrl(t){return t?t.startsWith("/uploads")?`${t}`:t:""}onSubmit(){console.log("Submitting product:",this.product),this.isEditMode?this.productService.updateProduct(this.product.id,this.product).subscribe({next:()=>this.router.navigate(["/admin/products"]),error:t=>{console.error("Update failed",t),alert("Failed to update product")}}):this.productService.createProduct(this.product).subscribe({next:()=>this.router.navigate(["/admin/products"]),error:t=>{console.error("Create failed",t),alert("Failed to create product")}})}drop(t){this.product.images&&nr(this.product.images,t.previousIndex,t.currentIndex)}static \u0275fac=function(e){return new(e||n)(I(Ie),I(we),I(me),I(ne),I(ve))};static \u0275cmp=V({type:n,selectors:[["app-product-form"]],decls:46,vars:10,consts:[["productForm","ngForm"],["fileInput",""],[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-4"],[1,"max-w-2xl","mx-auto","bg-white","p-6","rounded","shadow",3,"ngSubmit"],[1,"mb-4"],[1,"block","text-sm","font-bold","mb-2"],["type","text","name","name","required","",1,"w-full","border","p-2","rounded",3,"ngModelChange","ngModel"],["name","description","rows","4",1,"w-full","border","p-2","rounded",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4","mb-4"],["type","number","name","price","required","",1,"w-full","border","p-2","rounded",3,"ngModelChange","ngModel"],["type","text","name","sku","required","",1,"w-full","border","p-2","rounded",3,"ngModelChange","ngModel"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-8","text-center","hover:bg-gray-50","transition-colors","cursor-pointer","mb-4",3,"click"],["type","file","multiple","","accept","image/*",1,"hidden",3,"change"],[1,"space-y-2"],[1,"text-4xl","text-gray-400"],[1,"text-sm","text-gray-600","font-medium"],["class","text-blue-500 text-sm ml-2",4,"ngIf"],["cdkDropList","","cdkDropListOrientation","mixed",1,"grid","grid-cols-3","sm:grid-cols-4","md:grid-cols-6","gap-4","mt-4",3,"cdkDropListDropped"],["cdkDrag","","class","relative group aspect-square bg-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all border-2",3,"border-blue-500","border-transparent",4,"ngFor","ngForOf"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],[1,"mb-4","flex","items-center"],["type","checkbox","name","active",1,"mr-2",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-2"],["routerLink","/admin/products",1,"bg-gray-300","text-gray-800","px-4","py-2","rounded","hover:bg-gray-400"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],[1,"text-blue-500","text-sm","ml-2"],["cdkDrag","",1,"relative","group","aspect-square","bg-gray-100","rounded-xl","overflow-hidden","shadow-sm","hover:shadow-lg","transition-all","border-2"],["class","absolute top-2 left-2 z-10 bg-blue-600 text-white text-[10px] font-bold px-2 py-0.5 rounded shadow-sm",4,"ngIf"],[1,"w-full","h-full","object-cover",3,"src"],[1,"absolute","inset-0","bg-black","bg-opacity-0","group-hover:bg-opacity-20","transition-all","flex","flex-col","justify-between","p-2"],[1,"flex","justify-end","opacity-0","group-hover:opacity-100","transition-opacity"],["type","button",1,"bg-red-500","text-white","w-7","h-7","flex","items-center","justify-center","rounded-full","hover:bg-red-600","shadow-lg","transform","hover:scale-110","transition-all","border","border-white/20",3,"click"],[1,"material-icons","text-xs"],[1,"flex","justify-center","opacity-0","group-hover:opacity-100","transition-opacity"],["type","button","class","bg-white text-blue-600 px-3 py-1 rounded-full text-xs font-bold shadow-md hover:bg-blue-50 border border-blue-100",3,"click",4,"ngIf"],[1,"absolute","top-2","left-2","z-10","bg-blue-600","text-white","text-[10px]","font-bold","px-2","py-0.5","rounded","shadow-sm"],["type","button",1,"bg-white","text-blue-600","px-3","py-1","rounded-full","text-xs","font-bold","shadow-md","hover:bg-blue-50","border","border-blue-100",3,"click"],[1,"text-xs","text-gray-500","mt-2"]],template:function(e,i){if(e&1){let r=z();l(0,"div",2)(1,"h2",3),u(2),c(),l(3,"form",4,0),D("ngSubmit",function(){return S(r),x(i.onSubmit())}),l(5,"div",5)(6,"label",6),u(7,"Name"),c(),l(8,"input",7),ee("ngModelChange",function(s){return S(r),J(i.product.name,s)||(i.product.name=s),x(s)}),c()(),l(9,"div",5)(10,"label",6),u(11,"Description"),c(),l(12,"textarea",8),ee("ngModelChange",function(s){return S(r),J(i.product.description,s)||(i.product.description=s),x(s)}),c()(),l(13,"div",9)(14,"div")(15,"label",6),u(16,"Price"),c(),l(17,"input",10),ee("ngModelChange",function(s){return S(r),J(i.product.price,s)||(i.product.price=s),x(s)}),c()(),l(18,"div")(19,"label",6),u(20,"SKU"),c(),l(21,"input",11),ee("ngModelChange",function(s){return S(r),J(i.product.sku,s)||(i.product.sku=s),x(s)}),c()()(),l(22,"div",5)(23,"label",6),u(24,"Images"),c(),l(25,"div",12),D("click",function(){S(r);let s=_t(27);return x(s.click())}),l(26,"input",13,1),D("change",function(s){return S(r),x(i.onFileSelected(s))}),c(),l(28,"div",14)(29,"span",15),u(30,"\u2601\uFE0F"),c(),l(31,"div",16),u(32,"Click to upload images"),c()()(),Mt(33,yh,2,0,"span",17),l(34,"div",18),D("cdkDropListDropped",function(s){return S(r),x(i.drop(s))}),Mt(35,wh,10,7,"div",19),c(),Mt(36,Sh,2,0,"p",20),c(),l(37,"div",21)(38,"input",22),ee("ngModelChange",function(s){return S(r),J(i.product.active,s)||(i.product.active=s),x(s)}),c(),l(39,"label"),u(40,"Active"),c()(),l(41,"div",23)(42,"a",24),u(43,"Cancel"),c(),l(44,"button",25),u(45,"Save Product"),c()()()()}if(e&2){let r=_t(4);h(2),C(i.isEditMode?"Edit Product":"New Product"),h(6),X("ngModel",i.product.name),h(4),X("ngModel",i.product.description),h(5),X("ngModel",i.product.price),h(4),X("ngModel",i.product.sku),h(12),A("ngIf",i.uploading),h(2),A("ngForOf",i.product.images),h(),A("ngIf",(i.product.images==null?null:i.product.images.length)===0),h(2),X("ngModel",i.product.active),h(6),A("disabled",!r.form.valid||i.uploading)}},dependencies:[Y,ms,gs,Ze,ft,Re,co,so,qe,pt,nt,je,it,el,W,Ol,kl,Pl],encapsulation:2})};var xh=(n,t)=>t.id;function Dh(n,t){n&1&&(l(0,"div",7),B(1,"div",10),l(2,"p",11),u(3),g(4,"translate"),c()()),n&2&&(h(3),C(v(4,1,"DETAIL.LOADING")))}function Eh(n,t){if(n&1){let e=z();l(0,"button",37),D("click",function(){S(e);let r=b(2);return x(r.prevImage())}),l(1,"span",38),u(2,"chevron_left"),c()(),l(3,"button",39),D("click",function(){S(e);let r=b(2);return x(r.nextImage())}),l(4,"span",38),u(5,"chevron_right"),c()(),l(6,"div",40),u(7),c()}if(n&2){let e=b(2);h(7),yt(" ",e.currentIndex+1," / ",e.product.images.length," ")}}function Rh(n,t){if(n&1){let e=z();l(0,"button",42),D("click",function(){let r=S(e),o=r.$implicit,s=r.$index,a=b(3);return x(a.selectImage(o.imageUrl,s))}),B(1,"img",43),c()}if(n&2){let e=t.$implicit,i=t.$index,r=b(3);Z("border-yellow-500",r.currentIndex===i)("border-transparent",r.currentIndex!==i)("shadow-md",r.currentIndex===i),h(),A("src",r.getFormattedImageUrl(e.imageUrl),ae)}}function Ih(n,t){if(n&1&&(l(0,"div",15),_e(1,Rh,2,7,"button",41,xh),c()),n&2){let e=b(2);h(),ye(e.product.images)}}function Mh(n,t){if(n&1){let e=z();l(0,"div",8)(1,"div",12)(2,"div",13),B(3,"img",14),P(4,Eh,8,2),c(),P(5,Ih,3,0,"div",15),c(),l(6,"div",16)(7,"div",17)(8,"span",18),u(9),g(10,"translate"),c(),l(11,"h1",19),u(12),c(),l(13,"div",20)(14,"span"),u(15),c(),B(16,"span",21),l(17,"span",22),u(18),g(19,"translate"),c()()(),l(20,"div",23)(21,"div",24)(22,"span",25),u(23),c(),l(24,"span",26),u(25),g(26,"number"),c()(),l(27,"h3",27),u(28),g(29,"translate"),c(),l(30,"p",28),u(31),c()(),l(32,"div",29)(33,"button",30),D("click",function(){S(e);let r=b();return x(r.addToCart())}),l(34,"span",31),u(35,"shopping_bag"),c(),u(36),g(37,"translate"),c(),l(38,"a",32)(39,"span",31),u(40,"chat"),c(),u(41),g(42,"translate"),c()(),l(43,"div",33)(44,"div",34)(45,"span",35),u(46,"verified"),c(),l(47,"p",36),u(48,"Certified Authenticity"),c()(),l(49,"div",34)(50,"span",35),u(51,"local_shipping"),c(),l(52,"p",36),u(53,"Global Shipping"),c()(),l(54,"div",34)(55,"span",35),u(56,"lock"),c(),l(57,"p",36),u(58,"Secure Transaction "),c()()()()()}if(n&2){let e=b();h(3),A("src",e.selectedImage,ae)("alt",e.product.name),h(),k(e.product.images&&e.product.images.length>1?4:-1),h(),k(e.product.images&&e.product.images.length>1?5:-1),h(4),y(" ",v(10,15,"DETAIL.SIAM_MASTERPIECE")," "),h(3),y(" ",e.product.name," "),h(3),y("SKU: ",e.product.sku),h(2),A("ngClass",e.product.active?"text-green-500":"text-red-500"),h(),y(" ",v(19,17,e.product.active?"DETAIL.AVAILABLE":"DETAIL.OUT_OF_STOCK")," "),h(5),y("\\$",e.product.price),h(2),y("\\$",Ki(26,19,e.product.price*1.2,"1.0-2")),h(3),y(" ",v(29,22,"DETAIL.DESCRIPTION")),h(3),y(" ",e.product.description," "),h(5),y(" ",v(37,24,"DETAIL.ADD_TO_CART")," "),h(5),y(" ",v(42,26,"DETAIL.CONSULT")," ")}}function Th(n,t){n&1&&(l(0,"div",9)(1,"span",44),u(2,"search_off"),c(),l(3,"h2",45),u(4),g(5,"translate"),c(),l(6,"p",46),u(7),g(8,"translate"),c(),l(9,"a",47),u(10),g(11,"translate"),c()()),n&2&&(h(4),y("",v(5,3,"DETAIL.NOT_FOUND")," "),h(3),y(" ",v(8,5,"DETAIL.NOT_FOUND_DESC")," "),h(3),y(" ",v(11,7,"CART.BACK_TO_HOME")," "))}var rr=class n{route=f(we);productService=f(Ie);cartService=f(Me);cdr=f(ne);product;loading=!0;selectedImage=null;currentIndex=0;ngOnInit(){this.route.paramMap.pipe(pe(t=>{let e=t.get("slug");if(e)return this.productService.getProductBySlug(e);throw new Error("No slug found")})).subscribe({next:t=>{this.product=t,t.images&&t.images.length>0&&(this.selectedImage=this.getFormattedImageUrl(t.images[0].imageUrl),this.currentIndex=0),this.loading=!1,this.cdr.detectChanges()},error:t=>{console.error("Failed to load product detail",t),this.loading=!1,this.cdr.detectChanges()}})}getFormattedImageUrl(t){return t?t.startsWith("/uploads")?`${t}`:t:"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=800"}selectImage(t,e){this.selectedImage=this.getFormattedImageUrl(t),this.currentIndex=e}nextImage(){this.product&&this.product.images&&(this.currentIndex=(this.currentIndex+1)%this.product.images.length,this.selectedImage=this.getFormattedImageUrl(this.product.images[this.currentIndex].imageUrl))}prevImage(){this.product&&this.product.images&&(this.currentIndex=(this.currentIndex-1+this.product.images.length)%this.product.images.length,this.selectedImage=this.getFormattedImageUrl(this.product.images[this.currentIndex].imageUrl))}addToCart(){this.product&&this.cartService.addToCart(this.product,1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-product-detail"]],decls:15,vars:7,consts:[[1,"min-h-screen","bg-gray-50","pb-20"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"flex","text-sm","font-medium","text-gray-500"],["routerLink","/",1,"hover:text-yellow-600","transition-colors","uppercase","tracking-widest","text-[10px]"],[1,"mx-2"],[1,"text-gray-900","font-bold","uppercase","tracking-widest","text-[10px]"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","flex-col","items-center","justify-center","h-96"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","bg-white","rounded-3xl","shadow-xl","overflow-hidden","border","border-gray-100"],[1,"text-center","py-20","bg-white","rounded-3xl","shadow-lg","border","border-gray-100"],[1,"animate-spin","rounded-full","h-16","w-16","border-t-4","border-b-4","border-yellow-500","mb-4"],[1,"text-gray-500","font-black","uppercase","tracking-widest","animate-pulse"],[1,"p-4","lg:p-8","space-y-6"],[1,"relative","aspect-square","bg-gray-100","rounded-2xl","overflow-hidden","shadow-inner","group"],[1,"w-full","h-full","object-cover","transition-all","duration-700",3,"src","alt"],[1,"grid","grid-cols-5","gap-4"],[1,"p-8","lg:p-12","lg:pl-0","flex","flex-col"],[1,"mb-8"],[1,"inline-block","px-3","py-1","bg-yellow-100","text-yellow-700","rounded-full","text-xs","font-black","uppercase","tracking-widest","mb-4"],[1,"text-4xl","lg:text-5xl","font-extrabold","text-gray-900","mb-4","leading-tight"],[1,"flex","items-center","gap-4","text-sm","text-gray-400","font-medium"],[1,"w-1.5","h-1.5","bg-gray-200","rounded-full"],[1,"font-extrabold","uppercase","tracking-tighter",3,"ngClass"],[1,"mb-10"],[1,"flex","items-baseline","gap-2","mb-6"],[1,"text-4xl","font-black","text-gray-900"],[1,"text-gray-400","line-through","font-medium","text-lg"],[1,"text-lg","font-bold","text-gray-900","mb-3","border-b","border-gray-100","pb-2","uppercase","tracking-wide"],[1,"text-gray-600","leading-relaxed","text-lg","font-light"],[1,"mt-auto","space-y-4"],[1,"w-full","py-5","bg-gray-900","hover:bg-black","text-white","rounded-2xl","font-black","text-lg","transition-all","transform","hover:scale-[1.02]","shadow-xl","flex","items-center","justify-center","gap-3",3,"click"],[1,"material-icons"],["href","https://wa.me/your-number","target","_blank",1,"w-full","py-4","border-2","border-yellow-500","text-yellow-600","hover:bg-yellow-50","rounded-2xl","font-black","text-base","transition-all","flex","items-center","justify-center","gap-2","uppercase","tracking-widest"],[1,"mt-10","grid","grid-cols-3","gap-4","border-t","border-gray-100","pt-8"],[1,"text-center"],[1,"material-icons","text-yellow-500","text-3xl","mb-1"],[1,"text-[10px]","uppercase","font-black","text-gray-400","tracking-tighter"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","bg-white/80","hover:bg-white","text-yellow-600","p-3","rounded-full","opacity-0","group-hover:opacity-100","transition-all","shadow-lg","backdrop-blur-sm",3,"click"],[1,"material-icons","text-2xl"],[1,"absolute","right-4","top-1/2","-translate-y-1/2","bg-white/80","hover:bg-white","text-yellow-600","p-3","rounded-full","opacity-0","group-hover:opacity-100","transition-all","shadow-lg","backdrop-blur-sm",3,"click"],[1,"absolute","bottom-4","right-4","bg-black/60","text-white","px-4","py-1.5","rounded-full","text-xs","font-black","backdrop-blur-md","border","border-white/20"],[1,"aspect-square","rounded-xl","overflow-hidden","border-2","transition-all","transform","hover:scale-105",3,"border-yellow-500","border-transparent","shadow-md"],[1,"aspect-square","rounded-xl","overflow-hidden","border-2","transition-all","transform","hover:scale-105",3,"click"],[1,"w-full","h-full","object-cover",3,"src"],[1,"material-icons","text-7xl","text-gray-200","mb-4"],[1,"text-2xl","font-bold","text-gray-800","uppercase","tracking-widest"],[1,"text-gray-500","mt-2","mb-8","font-medium"],["routerLink","/",1,"px-8","py-3","bg-yellow-500","text-white","font-black","rounded-full","hover:bg-yellow-600","transition-all","uppercase","tracking-widest","text-sm"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"nav",2)(3,"a",3),u(4),g(5,"translate"),c(),l(6,"span",4),u(7,"/"),c(),l(8,"span",5),u(9),g(10,"translate"),c()()(),l(11,"div",6),P(12,Dh,5,3,"div",7)(13,Mh,59,28,"div",8)(14,Th,12,9,"div",9),c()()),e&2&&(h(4),C(v(5,3,"DETAIL.HOME_LINK")),h(5),C((i.product==null?null:i.product.name)||v(10,5,"DETAIL.PRODUCT_DETAILS")),h(3),k(i.loading?12:i.product?13:14))},dependencies:[Y,fs,W,_s,ce],encapsulation:2})};var or=class n{apiUrl="/api/orders";http=f($e);checkout(t){return this.http.post(`${this.apiUrl}/checkout`,t)}getMyOrders(){return this.http.get(`${this.apiUrl}/my-orders`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ah=(n,t)=>t.id;function Ph(n,t){if(n&1){let e=z();l(0,"div",11)(1,"h2",23),u(2),g(3,"translate"),c(),l(4,"form",24),D("ngSubmit",function(){S(e);let r=b();return x(r.nextStep())}),l(5,"div",25)(6,"div")(7,"label",26),u(8),g(9,"translate"),c(),l(10,"input",27),ee("ngModelChange",function(r){S(e);let o=b();return J(o.shippingInfo.address,r)||(o.shippingInfo.address=r),x(r)}),c()(),l(11,"div",28)(12,"div")(13,"label",26),u(14),g(15,"translate"),c(),l(16,"input",29),ee("ngModelChange",function(r){S(e);let o=b();return J(o.shippingInfo.city,r)||(o.shippingInfo.city=r),x(r)}),c()(),l(17,"div")(18,"label",26),u(19),g(20,"translate"),c(),l(21,"input",30),ee("ngModelChange",function(r){S(e);let o=b();return J(o.shippingInfo.zipCode,r)||(o.shippingInfo.zipCode=r),x(r)}),c()()()(),l(22,"div",31)(23,"button",32),u(24),g(25,"translate"),c()()()()}if(n&2){let e=b();h(2),y(" ",v(3,8,"CHECKOUT.SHIPPING_DETAILS")),h(6),C(v(9,10,"CHECKOUT.STREET")),h(2),X("ngModel",e.shippingInfo.address),h(4),C(v(15,12,"CHECKOUT.CITY")),h(2),X("ngModel",e.shippingInfo.city),h(3),C(v(20,14,"CHECKOUT.ZIP")),h(2),X("ngModel",e.shippingInfo.zipCode),h(3),y(" ",v(25,16,"CHECKOUT.CONTINUE")," ")}}function kh(n,t){n&1&&(l(0,"span",38),u(1,"check_circle"),c())}function Oh(n,t){n&1&&(l(0,"span",38),u(1,"check_circle"),c())}function Nh(n,t){n&1&&(l(0,"span",38),u(1,"check_circle"),c())}function Vh(n,t){if(n&1){let e=z();l(0,"div",11)(1,"h2",23),u(2),g(3,"translate"),c(),l(4,"div",33)(5,"button",34),D("click",function(){S(e);let r=b();return x(r.setPaymentMethod("CREDIT_CARD"))}),l(6,"div",16)(7,"span",35),u(8,"credit_card"),c(),l(9,"div",36)(10,"p",19),u(11,"Credit or Debit Card"),c(),l(12,"p",37),u(13,"Visa, Mastercard, AMEX"),c()()(),P(14,kh,2,0,"span",38),c(),l(15,"button",34),D("click",function(){S(e);let r=b();return x(r.setPaymentMethod("PAYPAL"))}),l(16,"div",16)(17,"span",35),u(18,"account_balance_wallet"),c(),l(19,"div",36)(20,"p",19),u(21,"PayPal"),c(),l(22,"p",37),u(23,"Fast and secure checkout"),c()()(),P(24,Oh,2,0,"span",38),c(),l(25,"button",34),D("click",function(){S(e);let r=b();return x(r.setPaymentMethod("TRANSFER"))}),l(26,"div",16)(27,"span",35),u(28,"account_balance"),c(),l(29,"div",36)(30,"p",19),u(31,"Bank Transfer"),c(),l(32,"p",37),u(33,"Manual verification required"),c()()(),P(34,Nh,2,0,"span",38),c()(),l(35,"button",39),D("click",function(){S(e);let r=b();return x(r.prevStep())}),l(36,"span",40),u(37,"arrow_back"),c(),u(38),g(39,"translate"),c()()}if(n&2){let e=b();h(2),y(" ",v(3,23,"CHECKOUT.PAYMENT_METHOD")),h(3),Z("border-yellow-500",e.paymentMethod()==="CREDIT_CARD")("bg-yellow-50",e.paymentMethod()==="CREDIT_CARD")("border-gray-100",e.paymentMethod()!=="CREDIT_CARD"),h(9),k(e.paymentMethod()==="CREDIT_CARD"?14:-1),h(),Z("border-yellow-500",e.paymentMethod()==="PAYPAL")("bg-yellow-50",e.paymentMethod()==="PAYPAL")("border-gray-100",e.paymentMethod()!=="PAYPAL"),h(9),k(e.paymentMethod()==="PAYPAL"?24:-1),h(),Z("border-yellow-500",e.paymentMethod()==="TRANSFER")("bg-yellow-50",e.paymentMethod()==="TRANSFER")("border-gray-100",e.paymentMethod()!=="TRANSFER"),h(9),k(e.paymentMethod()==="TRANSFER"?34:-1),h(4),y(" ",v(39,25,"CHECKOUT.BACK")," ")}}function Lh(n,t){n&1&&(l(0,"span",50),u(1,"refresh"),c(),u(2),g(3,"translate")),n&2&&(h(2),y(" ",v(3,1,"CHECKOUT.PROCESSING")," "))}function Fh(n,t){n&1&&(l(0,"span",51),u(1,"gavel"),c(),u(2),g(3,"translate")),n&2&&(h(2),y(" ",v(3,1,"CHECKOUT.PLACE_ORDER")," "))}function Uh(n,t){if(n&1){let e=z();l(0,"div",12)(1,"span",41),u(2,"auto_awesome"),c(),l(3,"h2",42),u(4),g(5,"translate"),c(),l(6,"p",43),u(7,"Please review your delivery details and order summary before finalizing the transaction."),c(),l(8,"div",44)(9,"div",45)(10,"div")(11,"p",46),u(12,"Shipping To"),c(),l(13,"p",47),u(14),c()(),l(15,"button",48),D("click",function(){S(e);let r=b();return x(r.currentStep.set(1))}),u(16,"Change"),c()(),l(17,"div")(18,"p",46),u(19,"Payment Method"),c(),l(20,"p",47),u(21),g(22,"titlecase"),c()()(),l(23,"button",49),D("click",function(){S(e);let r=b();return x(r.placeOrder())}),P(24,Lh,4,3)(25,Fh,4,3),c()()}if(n&2){let e=b();h(4),C(v(5,6,"CHECKOUT.CONFIRM")),h(10),yt("",e.shippingInfo.address,", ",e.shippingInfo.city),h(7),C(v(22,8,e.paymentMethod())),h(2),A("disabled",e.loading()),h(),k(e.loading()?24:25)}}function jh(n,t){if(n&1&&(l(0,"div",16)(1,"div",52),B(2,"img",53),c(),l(3,"div",54)(4,"p",55),u(5),c(),l(6,"p",56),u(7),c()()()),n&2){let e=t.$implicit,i=b();h(2),A("src",i.getFormattedImageUrl(e.product.images==null||e.product.images[0]==null?null:e.product.images[0].imageUrl),ae),h(3),C(e.product.name),h(2),yt("Qty: ",e.quantity," x \\$",e.product.price," ")}}var sr=class n{cartService=f(Me);orderService=f(or);router=f(me);cart=this.cartService.cartSignal;currentStep=F(1);loading=F(!1);shippingInfo={address:"",city:"",zipCode:"",country:"Thailand"};paymentMethod=F("");getFormattedImageUrl(t){return t?t.startsWith("/uploads")?`${t}`:t:"https://images.unsplash.com/photo-1620400308241-d52f6d2b3805?q=80&w=400"}get subtotal(){return this.cartService.getCartTotal()}get shipping(){return 15}get total(){return this.subtotal+this.shipping}nextStep(){this.currentStep()<3&&this.currentStep.update(t=>t+1)}prevStep(){this.currentStep()>1&&this.currentStep.update(t=>t-1)}setPaymentMethod(t){this.paymentMethod.set(t),this.nextStep()}placeOrder(){this.loading.set(!0);let t={shippingAddress:`${this.shippingInfo.address}, ${this.shippingInfo.city}, ${this.shippingInfo.zipCode}, ${this.shippingInfo.country}`,billingAddress:`${this.shippingInfo.address}, ${this.shippingInfo.city}, ${this.shippingInfo.zipCode}, ${this.shippingInfo.country}`,paymentMethod:this.paymentMethod()};this.orderService.checkout(t).subscribe({next:e=>{this.cartService.clearCart(),this.router.navigate(["/"]),alert("Order placed successfully! Order #"+e.orderNumber)},error:e=>{console.error("Checkout failed",e),this.loading.set(!1),alert("Checkout failed. Please try again.")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-checkout"]],decls:55,vars:57,consts:[[1,"min-h-screen","bg-gray-50","py-12"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"max-w-2xl","mx-auto","mb-12"],[1,"flex","items-center","justify-between","relative"],[1,"absolute","inset-0","top-5","h-0.5","bg-gray-200","-z-10"],[1,"absolute","inset-0","top-5","h-0.5","bg-yellow-500","transition-all","duration-500","-z-0"],[1,"flex","flex-col","items-center"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","font-bold","transition-all"],[1,"text-[10px]","mt-2","font-black","uppercase","tracking-widest","text-gray-400"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-12","items-start"],[1,"lg:col-span-2"],[1,"bg-white","rounded-3xl","shadow-xl","border","border-gray-100","p-8","animate-fadeIn"],[1,"bg-white","rounded-3xl","shadow-xl","border","border-gray-100","p-8","animate-fadeIn","text-center"],[1,"bg-white","rounded-3xl","shadow-xl","border","border-gray-100","p-8","lg:sticky","lg:top-8"],[1,"text-xl","font-black","text-gray-900","mb-6","uppercase","tracking-wider","pb-4","border-b","border-gray-100","text-center"],[1,"max-h-60","overflow-y-auto","space-y-4","mb-6","pr-2"],[1,"flex","items-center","gap-4"],[1,"space-y-3","mb-4"],[1,"flex","justify-between","text-sm","text-gray-500"],[1,"font-bold","text-gray-900"],[1,"pt-4","border-t","border-gray-100","flex","justify-between","items-center"],[1,"text-sm","font-black","uppercase","text-gray-900"],[1,"text-2xl","font-black","text-yellow-600"],[1,"text-2xl","font-black","text-gray-900","mb-8","uppercase","tracking-widest","border-b","border-gray-50","pb-4"],[1,"space-y-6",3,"ngSubmit"],[1,"grid","grid-cols-1","gap-6"],[1,"block","text-xs","font-black","text-gray-400","uppercase","tracking-widest","mb-2"],["type","text","name","address","required","",1,"w-full","px-5","py-4","bg-gray-50","border","border-gray-100","rounded-2xl","focus:ring-2","focus:ring-yellow-500","outline-none","transition-all",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-6"],["type","text","name","city","required","",1,"w-full","px-5","py-4","bg-gray-50","border","border-gray-100","rounded-2xl","focus:ring-2","focus:ring-yellow-500","outline-none","transition-all",3,"ngModelChange","ngModel"],["type","text","name","zipCode","required","",1,"w-full","px-5","py-4","bg-gray-50","border","border-gray-100","rounded-2xl","focus:ring-2","focus:ring-yellow-500","outline-none","transition-all",3,"ngModelChange","ngModel"],[1,"pt-6"],["type","submit",1,"w-full","py-5","bg-gray-900","text-white","rounded-2xl","font-black","text-lg","hover:bg-black","transition-all","shadow-xl"],[1,"grid","grid-cols-1","gap-4"],[1,"flex","items-center","justify-between","p-6","rounded-2xl","border-2","transition-all","group",3,"click"],[1,"material-icons","text-3xl","group-hover:text-yellow-600","transition-colors"],[1,"text-left"],[1,"text-xs","text-gray-400","font-medium"],[1,"material-icons","text-yellow-600"],[1,"mt-8","text-sm","font-black","text-gray-400","uppercase","tracking-widest","hover:text-gray-600","flex","items-center","gap-2",3,"click"],[1,"material-icons","text-base"],[1,"material-icons","text-7xl","text-yellow-500","mb-4","scale-125"],[1,"text-2xl","font-black","text-gray-900","mb-2","uppercase","tracking-widest"],[1,"text-gray-500","mb-8","max-w-sm","mx-auto"],[1,"bg-gray-50","rounded-2xl","p-6","text-left","mb-8","border","border-gray-100"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-[10px]","font-black","uppercase","text-gray-400","tracking-widest","mb-1"],[1,"text-sm","font-bold","text-gray-900"],[1,"text-[10px]","font-black","text-yellow-600","uppercase",3,"click"],[1,"w-full","py-5","bg-gray-900","text-white","rounded-2xl","font-black","text-xl","hover:bg-black","transition-all","shadow-2xl","flex","items-center","justify-center","gap-3","disabled:opacity-50",3,"click","disabled"],[1,"animate-spin","material-icons"],[1,"material-icons"],[1,"w-12","h-16","bg-gray-100","rounded-lg","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover",3,"src"],[1,"flex-grow"],[1,"text-xs","font-bold","text-gray-900","line-clamp-1"],[1,"text-[10px]","text-gray-400"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),B(4,"div",4)(5,"div",5),l(6,"div",6)(7,"div",7),u(8,"1"),c(),l(9,"span",8),u(10),g(11,"translate"),c()(),l(12,"div",6)(13,"div",7),u(14,"2"),c(),l(15,"span",8),u(16),g(17,"translate"),c()(),l(18,"div",6)(19,"div",7),u(20,"3"),c(),l(21,"span",8),u(22),g(23,"translate"),c()()()(),l(24,"div",9)(25,"div",10),P(26,Ph,26,18,"div",11),P(27,Vh,40,27,"div",11),P(28,Uh,26,10,"div",12),c(),l(29,"div",13)(30,"h2",14),u(31),g(32,"translate"),c(),l(33,"div",15),_e(34,jh,8,4,"div",16,Ah),c(),l(36,"div",17)(37,"div",18)(38,"span"),u(39),g(40,"translate"),c(),l(41,"span",19),u(42),c()(),l(43,"div",18)(44,"span"),u(45),g(46,"translate"),c(),l(47,"span",19),u(48),c()(),l(49,"div",20)(50,"span",21),u(51),g(52,"translate"),c(),l(53,"span",22),u(54),c()()()()()()()),e&2&&(h(5),Sr("width",(i.currentStep()-1)*50,"%"),h(2),Z("bg-yellow-500",i.currentStep()>=1)("text-black",i.currentStep()>=1)("bg-white",i.currentStep()<1)("border-2",i.currentStep()<1),h(3),C(v(11,43,"CHECKOUT.SHIPPING_DETAILS")),h(3),Z("bg-yellow-500",i.currentStep()>=2)("text-black",i.currentStep()>=2)("bg-white",i.currentStep()<2)("border-2",i.currentStep()<2)("border-gray-200",i.currentStep()<2),h(3),C(v(17,45,"CHECKOUT.PAYMENT_METHOD")),h(3),Z("bg-yellow-500",i.currentStep()>=3)("text-black",i.currentStep()>=3)("bg-white",i.currentStep()<3)("border-2",i.currentStep()<3)("border-gray-200",i.currentStep()<3),h(3),C(v(23,47,"CHECKOUT.CONFIRM")),h(4),k(i.currentStep()===1?26:-1),h(),k(i.currentStep()===2?27:-1),h(),k(i.currentStep()===3?28:-1),h(3),y(" ",v(32,49,"CART.SUMMARY")),h(3),ye(i.cart().items),h(5),C(v(40,51,"CART.SUBTOTAL")),h(3),y("\\$",i.subtotal),h(3),C(v(46,53,"CART.SHIPPING")),h(3),y("\\$",i.shipping),h(3),C(v(52,55,"CART.TOTAL")),h(3),y("\\$",i.total))},dependencies:[Y,Ze,ft,Re,qe,pt,nt,je,it,vs,ce],encapsulation:2})};var Nl=(n,t)=>{let e=f(le),i=f(me);return e.isAuthenticated()&&e.isAdmin()?!0:(i.navigate(["/login"]),!1)};var Vl=[{path:"",component:zn},{path:"shop",component:$n},{path:"product/:slug",component:rr},{path:"cart",component:Gn},{path:"checkout",component:sr},{path:"login",component:Wn},{path:"register",component:qn},{path:"admin",canActivate:[Nl],children:[{path:"",component:Zn},{path:"products",component:Kn},{path:"products/new",component:Fi},{path:"products/edit/:id",component:Fi},{path:"users",loadComponent:()=>import("./chunk-NUZDWJTE.js").then(n=>n.AdminUsersComponent)}]},{path:"**",redirectTo:""}];var Ll=(n,t)=>{let r=f(Oe).get(le).getToken();if(console.log("AuthInterceptor: Intercepting request to",n.url,"Token found:",!!r),r){let o=n.clone({setHeaders:{Authorization:`Bearer ${r}`}});return console.log("AuthInterceptor: Token attached to request"),t(o)}return t(n)};var Fl={providers:[Wo(),io(Vl),Ss(xs([Ll]))]};var Bh=()=>({exact:!0});function Hh(n,t){n&1&&(l(0,"a",8),u(1),g(2,"translate"),c()),n&2&&(h(),y(" ",v(2,1,"NAV.ADMIN")," "))}function zh(n,t){if(n&1&&(l(0,"span",14),u(1),c()),n&2){let e=b();h(),y(" ",e.cartService.getItemCount()," ")}}function $h(n,t){if(n&1){let e=z();l(0,"button",17),D("click",function(){S(e);let r=b();return x(r.logout())}),u(1),g(2,"translate"),c()}n&2&&(h(),y(" ",v(2,1,"NAV.LOGOUT")," "))}function Gh(n,t){n&1&&(l(0,"a",16),u(1),g(2,"translate"),c()),n&2&&(h(),y(" ",v(2,1,"NAV.VAULT")," "))}var ar=class n{authService=f(le);cartService=f(Me);langService=f(Gt);switchLanguage(t){this.langService.setLanguage(t)}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-navbar"]],decls:26,vars:19,consts:[[1,"sticky","top-0","z-50","bg-gray-900/95","backdrop-blur-md","border-b","border-white/10","text-white","shadow-2xl"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-20"],["routerLink","/",1,"flex","flex-col","items-start","group"],[1,"text-2xl","font-black","text-yellow-500","tracking-tighter","group-hover:text-yellow-400","transition-colors"],[1,"text-[10px]","uppercase","font-bold","text-gray-400","tracking-[0.3em]","-mt-1"],[1,"hidden","md:flex","items-center","gap-12"],["routerLink","/","routerLinkActive","text-yellow-500",1,"text-sm","font-bold","uppercase","tracking-widest","hover:text-yellow-500","transition-colors",3,"routerLinkActiveOptions"],["routerLink","/admin","routerLinkActive","text-yellow-500",1,"text-sm","font-black","text-red-500","uppercase","tracking-widest","hover:text-red-400","transition-colors","bg-red-500/10","px-3","py-1","rounded"],[1,"flex","items-center","gap-6"],[1,"flex","items-center","bg-white/5","rounded-full","p-1","border","border-white/10"],[1,"px-3","py-1","rounded-full","text-[10px]","font-black","transition-all","hover:scale-110",3,"click"],["routerLink","/cart","routerLinkActive","active",1,"relative","group","p-2","hover:bg-white/5","rounded-full","transition-all"],[1,"material-icons","text-white","group-hover:text-yellow-500","text-2xl","transition-colors"],[1,"absolute","-top-1","-right-1","bg-yellow-500","text-black","text-[10px]","font-black","w-5","h-5","flex","items-center","justify-center","rounded-full","border-2","border-gray-900","animate-bounce"],[1,"text-xs","font-black","uppercase","tracking-widest","text-gray-400","hover:text-white","transition-colors","border-l","border-white/10","pl-6","h-10"],["routerLink","/login",1,"text-xs","font-black","uppercase","tracking-widest","px-6","py-2","border-2","border-yellow-500/50","rounded-full","hover:bg-yellow-500","hover:text-black","transition-all"],[1,"text-xs","font-black","uppercase","tracking-widest","text-gray-400","hover:text-white","transition-colors","border-l","border-white/10","pl-6","h-10",3,"click"]],template:function(e,i){e&1&&(l(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"span",4),u(5,"AMULETS OF SIAM"),c(),l(6,"span",5),u(7),g(8,"translate"),c()(),l(9,"div",6)(10,"a",7),u(11),g(12,"translate"),c(),P(13,Hh,3,3,"a",8),c(),l(14,"div",9)(15,"div",10)(16,"button",11),D("click",function(){return i.switchLanguage("en")}),u(17,"EN"),c(),l(18,"button",11),D("click",function(){return i.switchLanguage("th")}),u(19,"TH"),c()(),l(20,"a",12)(21,"span",13),u(22,"shopping_bag"),c(),P(23,zh,2,1,"span",14),c(),P(24,$h,3,3,"button",15)(25,Gh,3,3,"a",16),c()()()()),e&2&&(h(7),y(" ",v(8,14,"NAV.SACRED_RELICS")," "),h(3),A("routerLinkActiveOptions",rs(18,Bh)),h(),y(" ",v(12,16,"NAV.HOME")," "),h(2),k(i.authService.isAuthenticated()&&i.authService.isAdmin()?13:-1),h(3),Z("bg-yellow-500",i.langService.currentLang()==="en")("text-black",i.langService.currentLang()==="en"),h(2),Z("bg-yellow-500",i.langService.currentLang()==="th")("text-black",i.langService.currentLang()==="th"),h(5),k(i.cartService.getItemCount()>0?23:-1),h(),k(i.authService.isAuthenticated()?24:25))},dependencies:[Y,W,to,ce],encapsulation:2})};var lr=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-footer"]],decls:9,vars:0,consts:[[1,"footer"],[1,"container","footer-content"],[1,"footer-links"],["href","#"]],template:function(e,i){e&1&&(ei(0,"footer",0)(1,"div",1)(2,"p"),u(3,"\xA9 2025 Amulets of Siam. All rights reserved."),ti(),ei(4,"div",2)(5,"a",3),u(6,"Privacy Policy"),ti(),ei(7,"a",3),u(8,"Terms of Service"),ti()()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:#999;padding:2rem 0;margin-top:auto}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:1rem;font-size:.9rem}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--white)}"]})};var cr=class n{title=F("frontend");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=V({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[2,"min-height","80vh","padding-top","2rem"]],template:function(e,i){e&1&&(B(0,"app-navbar"),l(1,"main",0),B(2,"router-outlet"),c(),B(3,"app-footer"))},dependencies:[Si,ar,lr],encapsulation:2})};Ar(cr,Fl).catch(n=>console.error(n));
