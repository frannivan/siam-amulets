import{$a as i,Ga as h,Ka as U,P as g,Pa as m,Qb as y,Rb as E,T as x,Ub as C,Z as v,Za as d,Zb as w,_ as b,_a as r,db as I,eb as _,fb as p,kb as c,mb as o,nb as u,ob as f,pb as S,za as a}from"./chunk-ZZROLK7J.js";var l=class n{constructor(t){this.http=t}apiUrl="/api/admin/users";getUsers(){return this.http.get(this.apiUrl)}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(x(w))};static \u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})};function O(n,t){n&1&&(r(0,"div",5),o(1," Loading users... "),i())}function M(n,t){n&1&&(r(0,"div",6),o(1," No users found. "),i())}function T(n,t){if(n&1){let e=I();r(0,"tr",13)(1,"td",14),o(2),i(),r(3,"td",14),o(4),i(),r(5,"td",14),o(6),i(),r(7,"td",14)(8,"span",15),o(9),i()(),r(10,"td",14)(11,"span"),o(12),i()(),r(13,"td",11)(14,"button",16),_("click",function(){let N=v(e).$implicit,k=p(2);return b(k.deleteUser(N.id))}),o(15," Delete "),i()()()}if(n&2){let e=t.$implicit;a(2),u(e.id),a(2),S("",e.firstName," ",e.lastName),a(2),u(e.email),a(2),c("background",e.role==="ADMIN"?"#e3f2fd":"#f3e5f5")("color",e.role==="ADMIN"?"#1976d2":"#7b1fa2"),a(),f(" ",e.role," "),a(2),c("color",e.active?"green":"red"),a(),f(" ",e.active?"Active":"Inactive"," "),a(2),d("disabled",e.role==="ADMIN"&&e.id===1)}}function j(n,t){if(n&1&&(r(0,"div",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"th",10),o(5,"ID"),i(),r(6,"th",10),o(7,"Name"),i(),r(8,"th",10),o(9,"Email"),i(),r(10,"th",10),o(11,"Role"),i(),r(12,"th",10),o(13,"Status"),i(),r(14,"th",11),o(15,"Actions"),i()()(),r(16,"tbody"),m(17,T,16,13,"tr",12),i()()()),n&2){let e=p();a(17),d("ngForOf",e.users)}}var A=class n{constructor(t){this.userService=t}users=[];loading=!0;ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.userService.getUsers().subscribe({next:t=>{this.users=t,this.loading=!1},error:t=>{console.error("Failed to load users",t),this.loading=!1}})}deleteUser(t){confirm("Are you sure you want to delete this user? This action cannot be undone.")&&this.userService.deleteUser(t).subscribe({next:()=>{this.users=this.users.filter(e=>e.id!==t)},error:e=>{console.error("Failed to delete user",e),alert("Failed to delete user")}})}static \u0275fac=function(e){return new(e||n)(h(l))};static \u0275cmp=U({type:n,selectors:[["app-admin-users"]],decls:7,vars:3,consts:[[1,"admin-container",2,"padding","2rem"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","2rem"],["style","text-align: center; padding: 2rem;",4,"ngIf"],["style","text-align: center; padding: 2rem; color: #666;",4,"ngIf"],["style","overflow-x: auto; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);",4,"ngIf"],[2,"text-align","center","padding","2rem"],[2,"text-align","center","padding","2rem","color","#666"],[2,"overflow-x","auto","background","white","border-radius","8px","box-shadow","0 2px 4px rgba(0,0,0,0.1)"],[2,"width","100%","border-collapse","collapse","min-width","600px"],[2,"background","#f8f9fa","border-bottom","2px solid #dee2e6"],[2,"padding","1rem","text-align","left"],[2,"padding","1rem","text-align","right"],["style","border-bottom: 1px solid #dee2e6;",4,"ngFor","ngForOf"],[2,"border-bottom","1px solid #dee2e6"],[2,"padding","1rem"],[2,"padding","0.25rem 0.5rem","border-radius","4px","font-size","0.8em","font-weight","bold"],[2,"background","#dc3545","color","white","border","none","padding","0.5rem 1rem","border-radius","4px","cursor","pointer",3,"click","disabled"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),o(3,"User Management"),i()(),m(4,O,2,0,"div",2)(5,M,2,0,"div",3)(6,j,18,1,"div",4),i()),e&2&&(a(4),d("ngIf",s.loading),a(),d("ngIf",!s.loading&&s.users.length===0),a(),d("ngIf",!s.loading&&s.users.length>0))},dependencies:[C,y,E],encapsulation:2})};export{A as AdminUsersComponent};
